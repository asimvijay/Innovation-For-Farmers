from flask import Flask, render_template, make_response, url_for, request, jsonify
import ee
import numpy as np
import cv2
import geemap
import os
from datetime import date
from dateutil.rrule import rrule,MONTHLY
import datetime
import cgi
import csv
import sys
import numpy as np
import tifffile as tiff


app = Flask(__name__, static_url_path='/static')                #telling flask our script file name and static folder for use

@app.after_request
def add_header(r):
    """
    Add headers to both force latest IE rendering engine or Chrome Frame,
    and also to cache the rendered page for 10 minutes.
    """
    r.headers["Cache-Control"] = "no-cache, no-store, must-revalidate"
    r.headers["Pragma"] = "no-cache"
    r.headers["Expires"] = "0"
    r.headers['Cache-Control'] = 'public, max-age=0'
    return r


polygon = None                                                  #methods=['GET', 'POST'] enables the script to retrieve and send data
@app.route('/', methods=['GET', 'POST'])                        #this and the function def index() renders the index.html file in templates folder
def index():
    return render_template("index.html")


@app.route('/map')                                              #this and the function def map1() renders the test.html file in templates folder
def map():
    return render_template("test.html")


@app.route('/result', methods=['GET', 'POST'])                  #this and the function def result() renders the resultnew.html file in templates folder
def result():

    if request.method == 'POST':
        print('Incoming..')
        req = request.get_json(force=True)
        #a = json.loads(req)
        global polygon
        polygon = req["geojson"]["geometry"]["coordinates"][0] # parse as JSON
        print(polygon)

    return render_template("resultnew.html")

def maskS2clouds(image):
  qa = image.select('QA60')

  # Bits 10 and 11 are clouds and cirrus, respectively.
  cloudBitMask = 1 << 10
  cirrusBitMask = 1 << 11

  # Both flags should be set to zero, indicating clear conditions.
  mask = (qa.bitwiseAnd(cloudBitMask).eq(0))and(qa.bitwiseAnd(cirrusBitMask).eq(0))

  return image.updateMask(mask).divide(10000)

def NDVI(image):
  return image.expression('float(b("B8") - b("B4")) / (b("B8") + b("B4"))')  # for COPERNICUS/S2
  # return image.expression('float(b("B5") - b("B4")) / (b("B5") + b("B4"))')     # for LANDSAT/LC08/C01/T1_SR

def NDVI2(image):
  # return image.expression('float(b("B8") - b("B4")) / (b("B8") + b("B4"))')  # for COPERNICUS/S2
  return image.expression('float(b("B5") - b("B4")) / (b("B5") + b("B4"))')     # for LANDSAT/LC08/C01/T1_SR

def green_percentage(filename, mask_im):
    dis_area = tiff.imread(filename)
    mask_area = tiff.imread(mask_im)
    pixels_dis = np.sum((dis_area * 255) >= 1)
    pixels_mask = np.sum((mask_area * 255) >= 1)
    percentage = (pixels_mask / pixels_dis) * 100
    return percentage

@app.route('/code', methods=['GET', 'POST'])
def code():
    global polygon
    ee.Initialize()
    area = ee.Geometry.Polygon(polygon)
    #poly_area_south = [[66.97677612304688, 24.8727322360673], [66.99394226074219, 24.881453301317965], [67.00424194335938, 24.882699117531892], [67.0111083984375, 24.879584553440623], [67.0166015625, 24.879584553440623], [67.02484130859375, 24.886436490787712], [67.03170776367188, 24.890796616653954], [67.03479766845703, 24.87740431185819], [67.03857421875, 24.87242075806748], [67.05024719238281, 24.860272503836693], [67.05642700195312, 24.849369208160923], [67.06707000732422, 24.841580551445354], [67.07462310791016, 24.835660844499756], [67.08457946777344, 24.828494504716478], [67.0931625366211, 24.824132181788887], [67.09178924560547, 24.819146481739068], [67.0876693725586, 24.818523255124294], [67.08732604980469, 24.81353732934949], [67.08148956298828, 24.812914074521444], [67.07977294921875, 24.806992997329047], [67.07839965820312, 24.800136659859948], [67.07977294921875, 24.793591620418344], [67.0883560180664, 24.788293002185807], [67.09281921386719, 24.783305860651126], [67.09762573242188, 24.777695086846297], [67.10174560546875, 24.773019248261697], [67.10277557373047, 24.76740800950013], [67.1048355102539, 24.762420028851665], [67.10037231445312, 24.75930243922547], [67.09590911865234, 24.757743615072602], [67.09178924560547, 24.754002357308305], [67.0880126953125, 24.75119634006102], [67.08423614501953, 24.749325626697196], [67.08011627197266, 24.748390259456198], [67.0773696899414, 24.747454885176023], [67.07496643066406, 24.747143092185084], [67.07084655761719, 24.749013838399], [67.06947326660156, 24.75431413309125], [67.05745697021484, 24.770837129986052], [67.05196380615234, 24.778941947389757], [67.0440673828125, 24.78673454198888], [67.03788757324219, 24.792968265314457], [67.02827453613281, 24.799824999147894], [67.01316833496092, 24.805434772108956], [67.00492858886719, 24.806681353851964], [67.00149536132812, 24.817900025374463], [67.01042175292969, 24.81976970521875], [67.02140808105467, 24.821016142772585], [67.02346801757812, 24.827248142416146], [67.01591491699219, 24.83223351635245], [67.01042175292969, 24.83908807776389], [67.00218200683594, 24.84469607296012], [66.99050903320312, 24.84656534821976], [66.98707580566406, 24.852173004559464], [66.98638916015625, 24.86089552027181], [66.98020935058594, 24.86712551196965]]
    poly_area_south = [[60.88623046875001, 29.84064389983441], [62.49023437499999, 29.38217507514529], [63.5009765625, 29.49698759653577], [64.072265625, 29.420460341013133], [64.53369140625, 29.57345707301757], [64.9951171875, 29.57345707301757], [66.26953125, 29.859701442126756], [66.37939453125, 29.973970240516614], [66.24755859375, 30.06909396443887], [66.37939453125, 30.50548389892728], [66.26953125, 30.619004797647808], [66.4453125, 30.95876857077987], [66.64306640625, 31.015278981711266], [66.6650390625, 31.16580958786196], [66.95068359374999, 31.3348710339506], [67.08251953125, 31.203404950917395], [67.412109375, 31.240985378021307], [67.74169921875, 31.353636941500987], [67.6318359375, 31.522361470421437], [67.87353515625, 31.615965936476076], [68.09326171875, 31.784216884487385], [68.21411132812499, 31.812229022640704], [68.521728515625, 31.728167146023935], [68.48876953125, 31.784216884487385], [68.565673828125, 31.83089906339438], [68.70849609375, 31.765537409484374], [68.79638671875, 31.62532121329918], [68.983154296875, 31.606609719226917], [69.093017578125, 31.74685416292141], [69.27978515625, 31.924192605327708], [69.5654296875, 31.93351676190369], [69.6533203125, 32.02670629333614], [69.8236083984375, 32.04998888314202], [69.796142578125, 31.984782715952374], [69.8565673828125, 31.970803930433096], [69.8675537109375, 31.886886525780806], [69.90600585937499, 31.89621446335144], [69.89501953125, 31.80289258670676], [69.90600585937499, 31.672083485607402], [69.873046875, 31.527043924837933], [69.9609375, 31.47083898476439], [69.993896484375, 31.316101383495624], [70.0213623046875, 31.39115752282472], [70.0982666015625, 31.41460027631321], [70.1971435546875, 31.484893386890164], [70.20263671875, 31.3864682695423], [70.20263671875, 31.27855085894653], [70.1806640625, 31.142304905845737], [70.235595703125, 31.04822792454978], [70.224609375, 30.911651004518244], [70.24658203125, 30.888083515609047], [70.2520751953125, 30.855079286968596], [70.1971435546875, 30.836214626064844], [70.1806640625, 30.76543912810554], [70.1312255859375, 30.755998458321667], [70.07080078125, 30.713503990354965], [70.07080078125, 30.619004797647808], [69.9774169921875, 30.44867367928756], [69.993896484375, 30.320729603696027], [70.02685546875, 30.315987718557867], [70.02685546875, 30.26381184075493], [70.081787109375, 30.29701788337205], [70.125732421875, 30.292274851024256], [70.0872802734375, 30.24957724046765], [70.0543212890625, 30.20211367909724], [70.048828125, 30.140376821599734], [70.037841796875, 30.10236569641242], [69.9609375, 30.031055426540206], [69.94445800781249, 29.940655389125002], [69.884033203125, 29.88351825335318], [69.8455810546875, 29.783449456820605], [69.752197265625, 29.735762444449076], [69.686279296875, 29.702368038541767], [69.60937499999999, 29.707139348134145], [69.554443359375, 29.64509464986076], [69.554443359375, 29.587788659909958], [69.5654296875, 29.544787796199465], [69.521484375, 29.44438130948883], [69.5928955078125, 29.415675471217877], [69.6258544921875, 29.386961521657504], [69.620361328125, 29.33908692734108], [69.63134765625, 29.30077105450428], [69.6533203125, 29.286398892934763], [69.730224609375, 29.310351371763023], [69.71923828125, 29.262440796698915], [69.697265625, 29.19053283229458], [69.6697998046875, 29.094577077511826], [69.6038818359375, 29.080175989623203], [69.532470703125, 28.98892237190413], [69.4500732421875, 28.936054482136672], [69.4390869140625, 28.86872905602898], [69.4720458984375, 28.844673680771795], [69.4775390625, 28.786918085420226], [69.42260742187499, 28.70504287929188], [69.36767578124999, 28.618281599983852], [69.2852783203125, 28.579697994029342], [69.290771484375, 28.51696944040106], [69.3511962890625, 28.45420354994914], [69.1864013671875, 28.45420354994914], [68.9556884765625, 28.46386226886912], [68.466796875, 28.44937385955666], [68.411865234375, 28.401064827220896], [68.36242675781249, 28.318888915773826], [68.236083984375, 28.270520445825415], [68.148193359375, 28.222130007158565], [68.0712890625, 28.134971934813155], [67.950439453125, 28.06713326012151], [67.9339599609375, 28.01865082183306], [67.82409667968749, 27.97984914504167], [67.7471923828125, 27.941033503267164], [67.5714111328125, 27.916766641249065], [67.4395751953125, 27.902203909304404], [67.39013671875, 27.785631542688837], [67.335205078125, 27.70784710660343], [67.2857666015625, 27.67866362912327], [67.2802734375, 27.6251403350933], [67.2088623046875, 27.542371035269657], [67.203369140625, 27.42053815128712], [67.1759033203125, 27.36201054924028], [67.1429443359375, 27.31321389856826], [67.17041015625, 27.21067107379003], [67.181396484375, 27.108033801463115], [67.1649169921875, 26.946556420812623], [67.159423828125, 26.79465448763808], [67.159423828125, 26.642548900196076], [67.2088623046875, 26.504988828743404], [67.357177734375, 26.244156283890756], [67.423095703125, 26.150507192328902], [67.4615478515625, 26.091321632191132], [67.445068359375, 25.94322678532246], [67.4615478515625, 25.849336891707605], [67.401123046875, 25.77021384896025], [67.34069824218749, 25.64647846279615], [67.2857666015625, 25.562265014427492], [67.1868896484375, 25.468073997498134], [67.17041015625, 25.35891851754525], [67.1209716796875, 25.25463261974945], [67.049560546875, 25.20494115356912], [67.0166015625, 25.120419105501256], [66.983642578125, 25.05076877966861], [66.9012451171875, 25.010950810695284], [66.8353271484375, 24.991036982463747], [66.7803955078125, 24.95119964792312], [66.697998046875, 24.90138485280086], [66.7144775390625, 24.996015742094006], [66.7144775390625, 25.085598897064752], [66.7254638671875, 25.19002975536265], [66.6375732421875, 25.284437746983055], [66.5496826171875, 25.363882272740256], [66.588134765625, 25.418470119273117], [66.55517578125, 25.468073997498134], [66.52221679687499, 25.522614647623293], [66.4178466796875, 25.572175556682115], [66.33544921875, 25.60190226111573], [66.24755859375, 25.60190226111573], [66.1651611328125, 25.53252846853444], [66.0992431640625, 25.48295117535531], [66.2420654296875, 25.507742380531404], [66.3299560546875, 25.522614647623293], [66.3958740234375, 25.507742380531404], [66.4947509765625, 25.468073997498134], [66.500244140625, 25.408546892670557], [66.37939453125, 25.458154856592074], [66.2750244140625, 25.46311452925943], [66.1376953125, 25.45319497952487], [65.9893798828125, 25.423431426334222], [65.8685302734375, 25.41350860804229], [65.7366943359375, 25.388697990350824], [65.58837890625, 25.3688458240828], [65.4290771484375, 25.388697990350824], [65.269775390625, 25.363882272740256], [65.1763916015625, 25.31423555219758], [65.0335693359375, 25.329131707091477], [64.918212890625, 25.329131707091477], [64.8138427734375, 25.329131707091477], [64.75341796875, 25.329131707091477], [64.676513671875, 25.279470734081812], [64.64355468749999, 25.24469595130604], [64.64355468749999, 25.20494115356912], [64.6875, 25.19002975536265], [64.57763671875, 25.160201483133374], [64.599609375, 25.19500042430748], [64.5556640625, 25.249664387120884], [64.478759765625, 25.25463261974945], [64.4293212890625, 25.23475847023373], [64.3359375, 25.264568475331583], [64.083251953125, 25.31920114076412], [63.9459228515625, 25.334096684794456], [63.80859374999999, 25.363882272740256], [63.6932373046875, 25.388697990350824], [63.5614013671875, 25.353954558526684], [63.48999023437501, 25.304303764403617], [63.4844970703125, 25.25463261974945], [63.47900390625, 25.219850725454755], [63.3197021484375, 25.22978942503438], [63.23181152343749, 25.25960064916269], [63.09997558593751, 25.264568475331583], [63.02856445312499, 25.22978942503438], [62.91870117187499, 25.219850725454755], [62.7923583984375, 25.24469595130604], [62.633056640625, 25.25463261974945], [62.4957275390625, 25.25960064916269], [62.45178222656249, 25.224820176765036], [62.39685058593749, 25.209911213827688], [62.35839843749999, 25.175116531621764], [62.3638916015625, 25.120419105501256], [62.34191894531249, 25.095548539604252], [62.26501464843749, 25.100523057465217], [62.28149414062501, 25.175116531621764], [62.237548828125, 25.209911213827688], [62.1771240234375, 25.209911213827688], [62.07824707031249, 25.175116531621764], [62.09472656250001, 25.110471486223346], [61.94641113281251, 25.120419105501256], [61.885986328125, 25.075648445630527], [61.84204101562499, 25.05076877966861], [61.74865722656249, 25.025884063244828], [61.74316406249999, 25.110471486223346], [61.6827392578125, 25.16517336866393], [61.6387939453125, 25.19002975536265], [61.64978027343751, 25.299337565234087], [61.6607666015625, 25.45319497952487], [61.67175292968749, 25.591994180254712], [61.6937255859375, 25.666284766565173], [61.74316406249999, 25.735580912151537], [61.79809570312501, 25.730632525531913], [61.8475341796875, 25.750424835909385], [61.8310546875, 25.82956108605351], [61.84204101562499, 25.859223554761407], [61.885986328125, 25.878994400196202], [61.84204101562499, 25.913585416189797], [61.83654785156249, 26.00248714194576], [61.85302734375001, 26.09625490696853], [61.85302734375001, 26.150507192328902], [61.885986328125, 26.249083096330665], [61.995849609375, 26.293415004265796], [62.0343017578125, 26.327883665584135], [62.09472656250001, 26.30818854315368], [62.11669921874999, 26.268788256766292], [62.20458984375, 26.26386228011112], [62.237548828125, 26.337729970839195], [62.2705078125, 26.327883665584135], [62.2705078125, 26.377106813670053], [62.2705078125, 26.441065564038418], [62.314453125, 26.480407161007275], [62.31994628906249, 26.519735305660795], [62.42980957031251, 26.52956523826758], [62.4847412109375, 26.5737895138798], [62.63854980468749, 26.598351182358293], [62.71545410156249, 26.622907579744325], [62.76489257812501, 26.63763888664592], [62.90771484375, 26.63763888664592], [63.04504394531249, 26.63763888664592], [63.16040039062499, 26.64745870265938], [63.1878662109375, 26.657277674217585], [63.2208251953125, 26.76032583739443], [63.19335937499999, 26.843677401113002], [63.2373046875, 26.86328062676624], [63.25927734375, 26.980828590472107], [63.27026367187499, 27.083582461484347], [63.30871582031249, 27.13247980102287], [63.30322265625001, 27.205785724383325], [63.17138671875, 27.254629577800063], [62.95166015624999, 27.225325836903373], [62.7978515625, 27.225325836903373], [62.78686523437499, 27.332735136859146], [62.86376953124999, 27.479034752500656], [62.830810546875, 27.72243591897343], [62.7978515625, 27.907058371121995], [62.75390625, 28.023500048883022], [62.78686523437499, 28.265682390146477], [62.589111328125, 28.256005619824972], [62.501220703125, 28.391400375817753], [62.32543945312499, 28.44937385955666], [61.95190429687499, 28.526622418648127], [61.754150390625, 28.719496107557465], [61.58935546875, 28.9023972285585], [61.50146484374999, 29.046565622728846], [61.380615234375, 29.23847708592805], [61.32568359375, 29.372601506681402], [61.12792968750001, 29.506549442788593]]
    area_south = ee.Geometry.Polygon(poly_area_south)
    #poly_area_malir = [[67.08526611328125, 25.23972731233395], [67.115478515625, 25.25711665985981], [67.12921142578125, 25.289404556494823], [67.14569091796874, 25.321683858702098], [67.1649169921875, 25.341543769441667], [67.15393066406249, 25.36140042062252], [67.181396484375, 25.39614171131381], [67.17041015625, 25.428392529196845], [67.18414306640625, 25.46559428893416], [67.203369140625, 25.485430526043555], [67.21435546875, 25.517657429994035], [67.25830078125, 25.54244147012483], [67.2747802734375, 25.572175556682115], [67.2857666015625, 25.58951703179726], [67.33245849609375, 25.631621577258493], [67.37640380859375, 25.634097853244732], [67.401123046875, 25.631621577258493], [67.43133544921875, 25.53252846853444], [67.3846435546875, 25.366364073894893], [67.35992431640625, 25.371327523300355], [67.35443115234375, 25.351472502592568], [67.3736572265625, 25.336579097268118], [67.35443115234375, 25.309269760067775], [67.3297119140625, 25.289404556494823], [67.3077392578125, 25.264568475331583], [67.29949951171875, 25.227304826281653], [67.32696533203125, 25.19500042430748], [67.36541748046875, 25.160201483133374], [67.41485595703125, 25.13533901613099], [67.47802734375, 25.090573819461], [67.5164794921875, 25.05823320992254], [67.5384521484375, 24.97609949369541], [67.5439453125, 24.928785481052262], [67.58514404296875, 24.864010555361574], [67.59063720703125, 24.776759933219164], [67.5164794921875, 24.79670834894575], [67.42584228515625, 24.844072974931866], [67.4285888671875, 24.811044291230406], [67.43064880371094, 24.79733168525243], [67.43820190429688, 24.787357928416778], [67.44369506835938, 24.781123923201235], [67.43476867675781, 24.777383369753395], [67.42515563964844, 24.77239578981062], [67.41691589355469, 24.78486436391299], [67.40867614746094, 24.78985144280632], [67.40180969238281, 24.787981311712517], [67.39768981933594, 24.78174733781577], [67.3798370361328, 24.78174733781577], [67.36679077148438, 24.78174733781577], [67.35580444335938, 24.776136493553793], [67.34344482421875, 24.776759933219164], [67.32902526855469, 24.76803149299553], [67.3249053955078, 24.7630435373877], [67.32009887695312, 24.76553754023245], [67.32215881347656, 24.773642703581935], [67.32353210449219, 24.78050050545515], [67.33108520507812, 24.789228068907338], [67.32215881347656, 24.798578348466542], [67.30705261230469, 24.81166755546185], [67.29812622070312, 24.812914074521444], [67.29057312011719, 24.807927923059236], [67.27134704589844, 24.809797753364574], [67.25486755371092, 24.812914074521444], [67.2418212890625, 24.816653556469955], [67.22396850585936, 24.815407075025966], [67.21160888671875, 24.814160581042987], [67.19993591308594, 24.814160581042987], [67.19924926757812, 24.809174479730263], [67.20474243164062, 24.80605806454742], [67.20199584960938, 24.80169495167004], [67.18826293945312, 24.806681353851964], [67.17727661132811, 24.804811476536706], [67.16766357421875, 24.80356487599092], [67.17658996582031, 24.79483832122786], [67.18208312988281, 24.79172154570878], [67.17109680175781, 24.79047481357294], [67.16354370117188, 24.78860469187607], [67.14912414550781, 24.79172154570878], [67.1429443359375, 24.802941571017538], [67.19718933105469, 24.82974085447296], [67.20680236816406, 24.83908807776389], [67.20542907714844, 24.84656534821976], [67.19993591308594, 24.85092688067188], [67.16423034667969, 24.84282676946321], [67.15667724609375, 24.86712551196965], [67.16285705566406, 24.8689944482603], [67.17384338378906, 24.86774849387282], [67.18757629394531, 24.865256547423], [67.19924926757812, 24.862764550743062], [67.19032287597656, 24.87148631935797], [67.18826293945312, 24.87584697288821], [67.19581604003906, 24.880207472540516], [67.20611572265625, 24.88083038849967], [67.20954895019531, 24.89577942913762], [67.21641540527344, 24.90512166048925], [67.22190856933594, 24.910726659859982], [67.20062255859374, 24.911972180697553], [67.18482971191405, 24.9113494218506], [67.18757629394531, 24.91633140459907], [67.18070983886719, 24.923804001418254], [67.17109680175781, 24.923804001418254], [67.15873718261719, 24.920690474438743], [67.15118408203125, 24.91695413829471], [67.14431762695312, 24.91570866775934], [67.15530395507812, 24.94061568836632], [67.1484375, 24.99414873086723], [67.14981079101562, 25.001616605587664], [67.18620300292969, 25.002861207248976], [67.203369140625, 25.009706290997322], [67.22053527832031, 25.025261880656924], [67.23426818847656, 25.042059703222566], [67.24868774414062, 25.05761119143144], [67.25761413574219, 25.068807041169084], [67.26448059082031, 25.07502651556338], [67.24319458007812, 25.111093236145866], [67.23014831542969, 25.124770934331977], [67.19856262207031, 25.136582259755453], [67.17933654785156, 25.145284610685064], [67.1649169921875, 25.149635553515335], [67.15324401855469, 25.140311914680755], [67.14088439941406, 25.134095759849245], [67.12783813476562, 25.130365915065003], [67.11204528808594, 25.132852490910697], [67.06878662109375, 25.145906183442673], [67.05986022949217, 25.150878651548457], [67.0880126953125, 25.19375777608886], [67.11410522460938, 25.21860833090542], [67.12509155273438, 25.227304826281653]]
    poly_area_malir = [[70.169677734375, 27.858503954841247], [70.037841796875, 27.89734922968426], [69.93896484375, 27.965294915211132], [69.873046875, 28.06228599981216], [69.818115234375, 28.168875180063345], [69.78515625, 28.294707428421205], [69.7412109375, 28.410728397237914], [69.642333984375, 28.44937385955666], [69.576416015625, 28.44454394857482], [69.532470703125, 28.478348692223165], [69.466552734375, 28.492833128965096], [69.41162109375, 28.488005204159457], [69.3731689453125, 28.459033019728043], [69.3292236328125, 28.468691297348148], [69.290771484375, 28.502488316130417], [69.2633056640625, 28.58452171937042], [69.3621826171875, 28.618281599983852], [69.43359375, 28.719496107557465], [69.4775390625, 28.810986808864513], [69.4830322265625, 28.839861937967964], [69.444580078125, 28.86872905602898], [69.45556640625, 28.92163128242129], [69.49951171875, 28.969700808694157], [69.5379638671875, 28.97931203672246], [69.5654296875, 29.036960648558267], [69.60937499999999, 29.080175989623203], [69.6533203125, 29.099376992628493], [69.686279296875, 29.152161283318915], [69.70275878906249, 29.209713225868185], [69.7357177734375, 29.30077105450428], [69.6807861328125, 29.310351371763023], [69.642333984375, 29.27202470909843], [69.6368408203125, 29.310351371763023], [69.6148681640625, 29.334298230315675], [69.63134765625, 29.38217507514529], [69.6148681640625, 29.420460341013133], [69.5819091796875, 29.44438130948883], [69.5379638671875, 29.434813598289637], [69.532470703125, 29.463514026304715], [69.5654296875, 29.54000879252545], [69.56268310546874, 29.57345707301757], [69.55169677734375, 29.616445727622548], [69.55718994140625, 29.647481692217653], [69.57916259765625, 29.657029295594743], [69.59564208984375, 29.683280533733644], [69.61761474609374, 29.709524917923563], [69.65057373046875, 29.702368038541767], [69.68353271484375, 29.69043877294508], [69.72747802734375, 29.714295887474798], [69.7796630859375, 29.728607435707488], [69.80438232421874, 29.76437737516313], [69.83184814453125, 29.783449456820605], [69.85107421874999, 29.81205076752506], [69.8785400390625, 29.873992211235656], [69.91424560546875, 29.90494852052797], [69.94445800781249, 29.928754522717018], [69.9609375, 29.978728593469928], [69.97467041015625, 30.023921574501376], [69.98016357421875, 30.05720849081894], [70.02410888671875, 30.07860131571654], [70.04058837890625, 30.09523698193298], [70.04058837890625, 30.12612436422458], [70.0433349609375, 30.149877316442065], [70.04608154296874, 30.171250084367482], [70.05157470703125, 30.206861065952626], [70.07080078125, 30.21398171687066], [70.07080078125, 30.24245916678936], [70.103759765625, 30.254322336443444], [70.1422119140625, 30.287531589298727], [70.12298583984375, 30.30176068632071], [70.07354736328125, 30.30176068632071], [70.0433349609375, 30.273300428069934], [70.02410888671875, 30.273300428069934], [70.02960205078125, 30.30176068632071], [70.02685546875, 30.320729603696027], [70.00762939453125, 30.311245603935003], [70.00213623046875, 30.35391637229704], [70.00213623046875, 30.401306519203583], [70.00213623046875, 30.420256142845158], [69.98016357421875, 30.434465946142005], [69.993896484375, 30.472348632640834], [70.037841796875, 30.557530797259172], [70.07080078125, 30.600093873550072], [70.081787109375, 30.637912028341123], [70.07080078125, 30.675715404167743], [70.07080078125, 30.704058230919504], [70.08453369140625, 30.732392734006083], [70.103759765625, 30.741835717889792], [70.125732421875, 30.770159115784214], [70.169677734375, 30.77723866322742], [70.1806640625, 30.798474179567823], [70.191650390625, 30.831497881307918], [70.2081298828125, 30.8432893085841], [70.257568359375, 30.8432893085841], [70.257568359375, 30.873940237887624], [70.257568359375, 30.89279747750818], [70.224609375, 30.897511207369128], [70.235595703125, 30.935212690426727], [70.235595703125, 30.984673330708464], [70.24658203125, 31.0294013530289], [70.23834228515625, 31.052933985705163], [70.2191162109375, 31.062345409804408], [70.22735595703125, 31.081165464590594], [70.22735595703125, 31.11644302456946], [70.224609375, 31.13760327002129], [70.24383544921875, 31.16580958786196], [70.279541015625, 31.179909598664146], [70.3179931640625, 31.17755974264551], [70.34820556640625, 31.19165800392904], [70.367431640625, 31.19165800392904], [70.37017822265625, 31.21045241900757], [70.367431640625, 31.245681880715527], [70.400390625, 31.248030044481112], [70.41412353515625, 31.273855991548853], [70.455322265625, 31.287939892641734], [70.49102783203125, 31.297327991404266], [70.52398681640625, 31.325486676506983], [70.565185546875, 31.325486676506983], [70.59539794921875, 31.30906179986621], [70.63110351562499, 31.30906179986621], [70.68878173828125, 31.31375491407894], [70.73272705078125, 31.306715155075167], [70.762939453125, 31.299674869993044], [70.78765869140625, 31.31844779444928], [70.80413818359375, 31.344254455668054], [70.806884765625, 31.365363732463518], [70.8123779296875, 31.398190963675983], [70.850830078125, 31.421631960419596], [70.86181640625, 31.452096498983657], [70.83984375, 31.48957771850194], [70.87280273437499, 31.510654307532683], [70.850830078125, 31.541089879585808], [70.850830078125, 31.56449510799119], [70.86181640625, 31.590234076606844], [70.85906982421875, 31.62298248226682], [70.85906982421875, 31.648705289976853], [70.86456298828124, 31.67675841879551], [70.894775390625, 31.688444722033868], [70.927734375, 31.73050322928437], [70.97442626953125, 31.80289258670676], [70.9991455078125, 31.84256592152673], [71.0211181640625, 31.868227816180674], [71.04034423828125, 31.872892847840678], [71.04583740234375, 31.903209796367197], [71.03759765625, 31.926523733115935], [71.048583984375, 31.949831760406877], [71.05957031249999, 31.952162238024975], [71.06231689453125, 31.991771310172094], [71.06231689453125, 32.01273389791075], [71.0870361328125, 32.02437770874076], [71.10626220703124, 32.0639555946604], [71.1199951171875, 32.10351636222566], [71.11724853515625, 32.13143129714792], [71.136474609375, 32.150036509965304], [71.16943359375, 32.1570124860701], [71.18316650390625, 32.20118126633929], [71.180419921875, 32.224419385153006], [71.1859130859375, 32.24532861404601], [71.24359130859375, 32.30338454936734], [71.2847900390625, 32.35212281198644], [71.32049560546875, 32.3590832787397], [71.34246826171875, 32.368363067704706], [71.34246826171875, 32.38923910985902], [71.35345458984375, 32.40779154205701], [71.334228515625, 32.42865847084369], [71.34796142578124, 32.456473533435215], [71.36444091796875, 32.491230287947594], [71.35894775390625, 32.505129231918936], [71.33148193359375, 32.51671004436773], [71.31500244140625, 32.52597362010653], [71.28753662109375, 32.51439400122826], [71.28204345703125, 32.50049648924482], [71.26556396484375, 32.49586350791503], [71.246337890625, 32.509761735919426], [71.246337890625, 32.52828936482526], [71.26007080078125, 32.54681317351514], [71.26556396484375, 32.56764789050999], [71.27105712890625, 32.59310597426537], [71.26007080078125, 32.61392993783565], [71.224365234375, 32.60004783331758], [71.16943359375, 32.59541998703928], [71.158447265625, 32.62780989050403], [71.14471435546875, 32.6740608520923], [71.1474609375, 32.699488680852674], [71.12823486328125, 32.73646168396554], [71.1199951171875, 32.773419354975175], [71.1090087890625, 32.803436166989265], [71.13922119140625, 32.803436166989265], [71.15295410156249, 32.8219030154127], [71.15295410156249, 32.85190345738802], [71.15295410156249, 32.88420028540548], [71.16668701171875, 32.9257074887604], [71.1859130859375, 32.95797741405952], [71.21612548828125, 32.978716146003336], [71.2738037109375, 33.00405687168934], [71.32049560546875, 33.01326987686983], [71.3232421875, 32.992539261996946], [71.36444091796875, 32.987931797174426], [71.400146484375, 32.99484290420988], [71.43585205078125, 33.00405687168934], [71.47430419921875, 33.02017899916362], [71.510009765625, 33.04320549616557], [71.46331787109375, 33.06162236089505], [71.43585205078125, 33.1329513125159], [71.43035888671875, 33.167444534375925], [71.40838623046875, 33.18813395605041], [71.40838623046875, 33.211116472416855], [71.52099609375, 33.22030778968541], [71.54022216796875, 33.201924189778936], [71.553955078125, 33.22260546814777], [71.5814208984375, 33.20652045176062], [71.60614013671875, 33.18123802491263], [71.6143798828125, 33.123750829710225], [71.6253662109375, 33.09384260312052], [71.65557861328125, 33.06852769197118], [71.69403076171875, 33.05701850585396], [71.7132568359375, 33.0178760185549], [71.7242431640625, 33.03169299978312], [71.7132568359375, 33.063924198120645], [71.71051025390625, 33.089240433964726], [71.7132568359375, 33.112248870481594], [71.73248291015625, 33.1329513125159], [71.75994873046875, 33.165145408240285], [71.7626953125, 33.19273094190692], [71.7462158203125, 33.213414392242655], [71.71600341796875, 33.23409295522519], [71.70501708984375, 33.25246979589199], [71.7022705078125, 33.28232392051035], [71.7242431640625, 33.29839499061643], [71.72698974609375, 33.31905344502012], [71.71600341796875, 33.342001541915614], [71.74896240234375, 33.37411872061922], [71.82861328125, 33.410809551114305], [71.8560791015625, 33.408516828002675], [71.87530517578125, 33.41539481578252], [71.87530517578125, 33.43831750748322], [71.89178466796875, 33.458942753687644], [71.90277099609375, 33.463525475613785], [71.91650390625, 33.486435450999885], [71.94671630859375, 33.50475906922609], [71.96868896484375, 33.53452667616054], [71.95220947265625, 33.5665726400041], [71.97967529296874, 33.58716733904656], [71.97418212890625, 33.61461929233378], [71.98516845703125, 33.64434904445888], [71.97967529296874, 33.66263917576218], [72.00164794921875, 33.678639851675555], [72.00164794921875, 33.701492795584365], [72.02911376953125, 33.72662401401029], [72.03460693359375, 33.74946419232578], [72.06207275390625, 33.763165380096595], [72.0758056640625, 33.76544869849223], [72.0758056640625, 33.78143022380356], [72.09228515625, 33.78827853625996], [72.16644287109374, 33.76773195605407], [72.19940185546875, 33.763165380096595], [72.22137451171874, 33.76773195605407], [72.24334716796875, 33.76088200086917], [72.23236083984375, 33.78827853625996], [72.235107421875, 33.81794822741499], [72.2406005859375, 33.84988869610126], [72.2296142578125, 33.884097379274905], [72.24609375, 33.902336404480685], [72.28179931640625, 33.911454454267606], [72.31201171875, 33.93652406150093], [72.344970703125, 33.945638452963024], [72.38067626953125, 33.97980872872457], [72.4273681640625, 33.99802726234877], [72.4658203125, 34.00258128543371], [72.5042724609375, 33.99575015925125], [72.53448486328125, 33.988918483762156], [72.5537109375, 33.950195282756994], [72.6470947265625, 33.93880275084578], [72.6416015625, 33.90917503325776], [72.61688232421875, 33.88637747072754], [72.6470947265625, 33.865854454071865], [72.6800537109375, 33.863573814253485], [72.7020263671875, 33.88637747072754], [72.73223876953125, 33.92285064485909], [72.784423828125, 33.92740869431181], [72.78167724609375, 33.90005673964575], [72.85308837890624, 33.865854454071865], [72.8338623046875, 33.82251188219802], [72.83111572265625, 33.78599582629231], [72.8668212890625, 33.758598560812004], [72.92999267578125, 33.747180448149855], [72.9547119140625, 33.73804486328907], [73.05084228515625, 33.77686437792359], [73.1085205078125, 33.79512630103207], [73.23486328124999, 33.831638461142866], [73.2513427734375, 33.84532650276791], [73.32824707031249, 33.87497640410958], [73.3447265625, 33.90917503325776], [73.377685546875, 33.93196649986436], [73.37493896484374, 33.959308210392024], [73.39141845703125, 33.97525348507592], [73.42987060546874, 33.98208625901939], [73.46282958984375, 34.01168859910852], [73.5040283203125, 34.004858205417236], [73.531494140625, 33.98664113654014], [73.55072021484375, 33.93196649986436], [73.58367919921875, 33.90917503325776], [73.59466552734375, 33.88637747072754], [73.58642578125, 33.827075293445986], [73.56170654296875, 33.79512630103207], [73.59466552734375, 33.747180448149855], [73.6029052734375, 33.72205524868729], [73.575439453125, 33.669496972795535], [73.5809326171875, 33.61919376817004], [73.6138916015625, 33.58487928182987], [73.63311767578125, 33.548262116088615], [73.63311767578125, 33.516209361109055], [73.6029052734375, 33.488726115350275], [73.62487792968749, 33.461234144932305], [73.60565185546875, 33.43144133557529], [73.56994628906249, 33.37641235124676], [73.58367919921875, 33.328233409107774], [73.60565185546875, 33.30298618122413], [73.6138916015625, 33.250172902093894], [73.641357421875, 33.22720064403191], [73.67156982421874, 33.20422235093439], [73.67431640625, 33.17204260575893], [73.64410400390625, 33.14675022877648], [73.62213134765625, 33.10304621868762], [73.66607666015625, 33.073130945006625], [73.7127685546875, 33.073130945006625], [73.74847412109375, 33.04550781490999], [73.75946044921875, 33.0178760185549], [73.76220703125, 32.99484290420988], [73.78143310546875, 32.97180377635759], [73.77593994140625, 32.9464537926927], [73.795166015625, 32.941843923502645], [73.8775634765625, 32.91879097277371], [73.96820068359375, 32.92801287395169], [74.00390625, 32.93953889877841], [74.0643310546875, 32.92801287395169], [74.14398193359375, 32.89803818160521], [74.1796875, 32.87266705436184], [74.2401123046875, 32.84267363195431], [74.30328369140625, 32.81959486923976], [74.3280029296875, 32.7872745269555], [74.35272216796875, 32.78034721066307], [74.3829345703125, 32.803436166989265], [74.39666748046874, 32.7872745269555], [74.410400390625, 32.76880048488168], [74.4378662109375, 32.78034721066307], [74.47357177734375, 32.778037985363675], [74.5147705078125, 32.74570253945518], [74.55596923828125, 32.7503226078097], [74.6026611328125, 32.7503226078097], [74.63012695312499, 32.7503226078097], [74.6356201171875, 32.773419354975175], [74.65484619140625, 32.778037985363675], [74.6356201171875, 32.810361684869015], [74.6575927734375, 32.82651912783954], [74.68231201171875, 32.82421110161336], [74.7015380859375, 32.84267363195431], [74.7015380859375, 32.80574473290688], [74.68505859374999, 32.773419354975175], [74.6575927734375, 32.731840896865684], [74.652099609375, 32.701799942559], [74.66033935546875, 32.678684632253805], [74.696044921875, 32.66018807572586], [74.67132568359375, 32.63937487360669], [74.6466064453125, 32.62087018318113], [74.6466064453125, 32.59541998703928], [74.6575927734375, 32.579220642875676], [74.674072265625, 32.56301837144534], [74.6630859375, 32.54912838093526], [74.68505859374999, 32.53060504985312], [74.68780517578125, 32.507445513754526], [74.68780517578125, 32.47964619410741], [74.7125244140625, 32.4935469277599], [74.72900390625, 32.47501213905002], [74.7894287109375, 32.47501213905002], [74.82513427734374, 32.49586350791503], [74.87182617187499, 32.491230287947594], [74.90753173828125, 32.47269502206151], [74.94598388671875, 32.46110854261062], [74.96246337890625, 32.44952057251957], [75.0091552734375, 32.45415593941475], [75.01739501953125, 32.47501213905002], [75.03662109375, 32.498180028410744], [75.07507324218749, 32.47269502206151], [75.10528564453125, 32.47269502206151], [75.12451171875, 32.44024912337551], [75.13275146484375, 32.414747721229666], [75.17669677734375, 32.41706632846282], [75.201416015625, 32.412429054416144], [75.20690917968749, 32.39155837235158], [75.2508544921875, 32.3822809650579], [75.2947998046875, 32.36604320976023], [75.31677246093749, 32.33355894864106], [75.3387451171875, 32.321954600200584], [75.322265625, 32.30802741894789], [75.33050537109375, 32.289454513392876], [75.3662109375, 32.27087780256757], [75.377197265625, 32.252297287645575], [75.36346435546874, 32.222095840502334], [75.33599853515625, 32.217448573031014], [75.30853271484374, 32.194208672875384], [75.30853271484374, 32.17793721052666], [75.28656005859375, 32.150036509965304], [75.28106689453125, 32.11747489684617], [75.25360107421875, 32.10351636222566], [75.234375, 32.09420948699398], [75.20965576171875, 32.11747489684617], [75.201416015625, 32.09420948699398], [75.17669677734375, 32.0732655510424], [75.16021728515624, 32.07559289203769], [75.11352539062499, 32.07792017378829], [75.09979248046875, 32.056972505418514], [75.06683349609374, 32.056972505418514], [75.04486083984375, 32.0383483283312], [75.0146484375, 32.02903481873586], [74.99542236328125, 32.040676557717454], [74.95697021484375, 32.04998888314202], [74.92675781249999, 32.0639555946604], [74.90478515625, 32.05464469054932], [74.88555908203125, 32.05464469054932], [74.87457275390625, 32.02903481873586], [74.83612060546875, 32.010404958190534], [74.82513427734374, 31.973133875881725], [74.79766845703125, 31.95449265652254], [74.74822998046875, 31.942839972853083], [74.7125244140625, 31.93584765329943], [74.70428466796875, 31.924192605327708], [74.67132568359375, 31.91953017247695], [74.63836669921874, 31.891550612684366], [74.608154296875, 31.88222220265971], [74.586181640625, 31.84956532831343], [74.56695556640625, 31.82156451492074], [74.5587158203125, 31.795889640575172], [74.55596923828125, 31.770207631866715], [74.55596923828125, 31.753860822284455], [74.51751708984375, 31.742182762117984], [74.4873046875, 31.721158542898483], [74.52301025390625, 31.67675841879551], [74.54498291015625, 31.648705289976853], [74.55047607421875, 31.62532121329918], [74.57244873046875, 31.59959193922864], [74.61090087890625, 31.562154849365236], [74.61090087890625, 31.527043924837933], [74.586181640625, 31.520020155192825], [74.57794189453125, 31.49894567796294], [74.60540771484375, 31.487235582017444], [74.64111328125, 31.475524020001806], [74.64935302734375, 31.44975342450799], [74.64935302734375, 31.423975737976697], [74.61639404296875, 31.42866311735861], [74.586181640625, 31.409912194070973], [74.58343505859374, 31.3864682695423], [74.55047607421875, 31.36770891512085], [74.542236328125, 31.323140440957427], [74.53948974609375, 31.287939892641734], [74.520263671875, 31.266813252320688], [74.52850341796875, 31.248030044481112], [74.51751708984375, 31.23159167205059], [74.52301025390625, 31.21045241900757], [74.5147705078125, 31.17755974264551], [74.51751708984375, 31.142304905845737], [74.53399658203125, 31.13055037924057], [74.55322265625, 31.11174010697967], [74.564208984375, 31.081165464590594], [74.59167480468749, 31.092926106993826], [74.61090087890625, 31.095278060807935], [74.59442138671875, 31.123496964067325], [74.61639404296875, 31.13760327002129], [74.64385986328125, 31.12819929911196], [74.674072265625, 31.121145709156316], [74.69329833984375, 31.11644302456946], [74.7015380859375, 31.083517709507184], [74.68231201171875, 31.064698120353743], [74.6630859375, 31.052933985705163], [74.59716796875, 31.041168396491422], [74.57794189453125, 31.05999264106237], [74.56146240234375, 31.043521630684204], [74.542236328125, 31.027047769854388], [74.53948974609375, 30.996445897426373], [74.52850341796875, 30.97289931126414], [74.498291015625, 30.968189296794247], [74.47357177734375, 30.970544333076077], [74.454345703125, 30.95641324406724], [74.42413330078125, 30.932856783043764], [74.42413330078125, 30.914007434286322], [74.39666748046874, 30.904581367044212], [74.36920166015625, 30.890440525562102], [74.36920166015625, 30.876297595828756], [74.37469482421875, 30.855079286968596], [74.34997558593749, 30.85743710875022], [74.31976318359375, 30.855079286968596], [74.29779052734375, 30.796114909344855], [74.300537109375, 30.784317689718897], [74.26483154296875, 30.78195807210956], [74.2730712890625, 30.755998458321667], [74.28680419921875, 30.727670895047673], [74.25933837890625, 30.718226523201352], [74.2291259765625, 30.72294882477251], [74.21539306640625, 30.68988785772121], [74.18243408203125, 30.652090026760014], [74.1357421875, 30.621368403494955], [74.11102294921875, 30.61191363386011], [74.091796875, 30.57881467083501], [74.07806396484375, 30.555165634175708], [74.0863037109375, 30.545704405480997], [74.058837890625, 30.517315187761888], [74.036865234375, 30.536242254734933], [74.01763916015625, 30.526779182105784], [74.0093994140625, 30.510216587229984], [73.97369384765625, 30.49838443460377], [73.95996093749999, 30.455776769374857], [73.93798828125, 30.486550842588485], [73.93524169921875, 30.462879341709886], [73.93524169921875, 30.441570071519468], [73.9654541015625, 30.441570071519468], [73.94622802734375, 30.420256142845158], [73.92425537109375, 30.401306519203583], [73.89129638671875, 30.35628642525117], [73.92425537109375, 30.318358689813856], [73.95721435546875, 30.259067203213018], [73.970947265625, 30.194992169502903], [73.916015625, 30.14512718337613], [73.80615234375, 30.0643399462443], [73.597412109375, 30.021543509740027], [73.388671875, 29.940655389125002], [73.3502197265625, 29.81205076752506], [73.3062744140625, 29.640320395351402], [73.2293701171875, 29.492206334848714], [73.125, 29.291189838184863], [73.0096435546875, 29.156958511360703], [72.9327392578125, 29.017748018496047], [72.7239990234375, 28.926439238621036], [72.4932861328125, 28.82061274169944], [72.3944091796875, 28.772474183943032], [72.2955322265625, 28.676130433078256], [72.1966552734375, 28.396232711680433], [72.1142578125, 28.30921698045776], [71.9659423828125, 28.188243641850313], [71.9384765625, 28.120438687101064], [71.89453125, 27.965294915211132], [71.7791748046875, 27.911912615111895], [71.6583251953125, 27.868216579514076], [71.444091796875, 27.873072565422785], [71.3287353515625, 27.853647316127383], [71.19140625, 27.829360859789794], [71.08154296875, 27.790491224830877], [70.9552001953125, 27.746746268526383], [70.8782958984375, 27.698120147680104], [70.751953125, 27.72243591897343], [70.7080078125, 27.780771643348196], [70.66955566406249, 27.829360859789794], [70.6585693359375, 27.916766641249065], [70.5926513671875, 28.004101830368654], [70.5377197265625, 28.038046419369945], [70.3619384765625, 28.004101830368654], [70.2960205078125, 27.945886221761945], [70.2301025390625, 27.902203909304404]]
    area_malir = ee.Geometry.Polygon(poly_area_malir)
    #poly_area_korangi = [[67.15187072753906, 24.79483832122786], [67.1429443359375, 24.79047481357294], [67.14019775390625, 24.78237074929868], [67.13058471679686, 24.78050050545515], [67.12577819824219, 24.77800680315638], [67.11891174316406, 24.777383369753395], [67.11341857910156, 24.78299415764991], [67.10723876953125, 24.79172154570878], [67.09968566894531, 24.798578348466542], [67.09556579589844, 24.80605806454742], [67.09419250488281, 24.812914074521444], [67.08869934082031, 24.817276792489675], [67.08663940429688, 24.82537857544687], [67.08045959472656, 24.82974085447296], [67.08492279052734, 24.843138322006887], [67.08904266357422, 24.848123056031515], [67.09041595458984, 24.852796061796035], [67.09178924560547, 24.861830039038882], [67.09590911865234, 24.86432205455417], [67.1041488647461, 24.86712551196965], [67.11479187011717, 24.868371472636408], [67.12200164794922, 24.869305934894843], [67.12406158447266, 24.875224031804528], [67.12028503417969, 24.879584553440623], [67.11994171142578, 24.884567818295064], [67.12955474853516, 24.886747933454497], [67.14637756347656, 24.887059375335962], [67.16011047363281, 24.887370816432064], [67.16869354248047, 24.8855021580753], [67.1769332885742, 24.884567818295064], [67.17864990234375, 24.892042338626545], [67.18208312988281, 24.90325327078814], [67.18482971191405, 24.912594936400822], [67.203369140625, 24.909481126447975], [67.21435546875, 24.90823558046204], [67.20680236816406, 24.896402266558727], [67.20130920410156, 24.880207472540516], [67.19512939453125, 24.87646991083154], [67.19169616699219, 24.86961742074445], [67.20062255859374, 24.86338755462191], [67.20268249511719, 24.85840343569803], [67.19169616699219, 24.85840343569803], [67.17315673828125, 24.86214154372506], [67.16148376464842, 24.865256547423], [67.15736389160156, 24.862764550743062], [67.159423828125, 24.847188433697745], [67.16045379638672, 24.84500762079767], [67.19856262207031, 24.852173004559464], [67.20199584960938, 24.852173004559464], [67.20611572265625, 24.84781151603803], [67.20611572265625, 24.840957437730605], [67.20405578613281, 24.83223351635245], [67.18551635742188, 24.81976970521875], [67.17247009277344, 24.81229081655887], [67.16011047363281, 24.80605806454742]]
    poly_area_korangi = [[74.476318359375, 32.76880048488168], [74.3609619140625, 32.78265637602964], [74.278564453125, 32.82421110161336], [74.0423583984375, 32.92109653816924], [73.773193359375, 32.94414888814148], [73.751220703125, 33.02708758002874], [73.6798095703125, 33.073130945006625], [73.641357421875, 33.128351191631566], [73.6688232421875, 33.18353672893615], [73.641357421875, 33.25246979589199], [73.5919189453125, 33.32134852669881], [73.5919189453125, 33.390172864722466], [73.6358642578125, 33.46810795527896], [73.63037109375, 33.5459730276919], [73.58642578125, 33.61919376817004], [73.58642578125, 33.69235234723729], [73.56994628906249, 33.797408767572485], [73.5809326171875, 33.87497640410958], [73.5589599609375, 33.957030069982316], [73.5040283203125, 34.057210513510306], [73.47656249999999, 34.261756524459805], [73.4271240234375, 34.3207552752374], [73.399658203125, 34.38877925439021], [73.4326171875, 34.474863669009004], [73.4490966796875, 34.56538299699511], [73.575439453125, 34.58799745550482], [73.65234375, 34.56990638085636], [73.66333007812499, 34.63320791137959], [73.66333007812499, 34.70097741472011], [73.7127685546875, 34.74161249883172], [73.7457275390625, 34.77771580360469], [73.8336181640625, 34.813803317113155], [73.927001953125, 34.827332061981586], [73.95996093749999, 34.872411827691025], [74.0093994140625, 34.908457853981375], [74.0423583984375, 34.985003130171066], [74.080810546875, 35.04798673426734], [74.080810546875, 35.074964853989556], [74.10827636718749, 35.11990857099681], [74.058837890625, 35.146862906756304], [74.014892578125, 35.15584570226544], [73.95996093749999, 35.205233347514536], [73.883056640625, 35.205233347514536], [73.7896728515625, 35.24113278166642], [73.729248046875, 35.24113278166642], [73.7127685546875, 35.31288398967159], [73.707275390625, 35.40248356426937], [73.7567138671875, 35.47409160773029], [73.773193359375, 35.50987173838399], [73.6468505859375, 35.545635932499415], [73.3447265625, 35.59925232772949], [73.223876953125, 35.65729624809628], [73.135986328125, 35.68853320738875], [73.10302734375, 35.75097043944926], [73.114013671875, 35.81335872633348], [73.0810546875, 35.862343734896484], [73.004150390625, 35.831174956246535], [72.9052734375, 35.8356283888737], [72.806396484375, 35.86679541749027], [72.6800537109375, 35.81335872633348], [72.608642578125, 35.831174956246535], [72.5592041015625, 35.86679541749027], [72.5152587890625, 35.902399875143615], [72.564697265625, 36.02688935430189], [72.520751953125, 36.05798104702501], [72.520751953125, 36.10237644873644], [72.5482177734375, 36.15118243124803], [72.5372314453125, 36.18665862660454], [72.5592041015625, 36.24427318493909], [72.608642578125, 36.27527883184338], [72.6910400390625, 36.26199220445664], [72.75146484374999, 36.29741818650811], [72.8668212890625, 36.38591277287651], [72.8887939453125, 36.45221769643571], [72.9766845703125, 36.4566360115962], [72.9766845703125, 36.50522086338427], [73.0535888671875, 36.53612263184686], [73.092041015625, 36.61111838494165], [73.0645751953125, 36.677230602346214], [73.17993164062499, 36.721273880045004], [73.2623291015625, 36.70365959719456], [73.32824707031249, 36.712467243386264], [73.36669921875, 36.74328605437939], [73.487548828125, 36.73448194195683], [73.597412109375, 36.712467243386264], [73.67431640625, 36.686041276581925], [73.7237548828125, 36.712467243386264], [73.817138671875, 36.712467243386264], [73.8775634765625, 36.712467243386264], [73.883056640625, 36.756490329505176], [73.8446044921875, 36.796089518731506], [73.7677001953125, 36.81368259124586], [73.7017822265625, 36.85325222344018], [73.66333007812499, 36.90597988519294], [73.795166015625, 36.90597988519294], [73.839111328125, 36.9367208722872], [73.916015625, 36.89719446989036], [73.95996093749999, 36.8708321556463], [74.0203857421875, 36.84006462037767], [74.10827636718749, 36.84446074079564], [74.1961669921875, 36.910372213522535], [74.278564453125, 36.89719446989036], [74.344482421875, 36.932330061503144], [74.3829345703125, 36.96744946416934], [74.42138671875, 37.01132594307015], [74.5257568359375, 36.958671131530316], [74.520263671875, 37.01132594307015], [74.6026611328125, 37.05079312980657], [74.6575927734375, 37.08585785263673], [74.7125244140625, 37.05956083025126], [74.761962890625, 37.01571219880126], [74.8388671875, 37.055177106660814], [74.8663330078125, 36.958671131530316], [74.9102783203125, 36.92793899776678], [74.9322509765625, 36.97622678464096], [75.0640869140625, 37.01571219880126], [75.1519775390625, 37.020098201368114], [75.21240234375, 36.97183825093165], [75.289306640625, 36.97622678464096], [75.4046630859375, 36.94550173495345], [75.399169921875, 36.901587303978474], [75.43212890625, 36.84006462037767], [75.4266357421875, 36.77409249464195], [75.44860839843749, 36.72567681977065], [75.5255126953125, 36.73448194195683], [75.531005859375, 36.79169061907076], [75.618896484375, 36.76969233214548], [75.7122802734375, 36.74768773190056], [75.8331298828125, 36.6992553955527], [75.9429931640625, 36.602299135790446], [75.9375, 36.57142382346277], [76.025390625, 36.40802070382984], [75.992431640625, 36.35495110643483], [76.058349609375, 36.2354121683998], [76.014404296875, 36.24427318493909], [75.992431640625, 36.1733569352216], [75.9375, 36.146746777814364], [75.9375, 36.071302299422406], [75.9814453125, 36.03577394783581], [76.0089111328125, 36.01800375871416], [76.0968017578125, 36.02688935430189], [76.1297607421875, 35.96911507577482], [76.1572265625, 35.92019610057511], [76.1517333984375, 35.84453450421662], [76.1956787109375, 35.84453450421662], [76.2506103515625, 35.84008157153468], [76.3385009765625, 35.8356283888737], [76.409912109375, 35.85343961959182], [76.475830078125, 35.88459964717596], [76.519775390625, 35.89795019335754], [76.552734375, 35.92019610057511], [76.5966796875, 35.902399875143615], [76.57470703125, 35.84453450421662], [76.56372070312499, 35.79108281624994], [76.607666015625, 35.77325759103725], [76.6900634765625, 35.737595151747826], [76.7889404296875, 35.661759419295045], [76.761474609375, 35.634976650677295], [76.79443359375, 35.576916524038616], [76.75048828125, 35.55457449014312], [76.7724609375, 35.505400093441324], [76.81640625, 35.460669951495305], [76.8438720703125, 35.420391545750746], [76.88232421875, 35.38457160381764], [76.9317626953125, 35.39800594715108], [77.0086669921875, 35.30840140169162], [76.97021484375, 35.263561862152095], [77.01416015625, 35.19625600786368], [77.091064453125, 35.17380831799959], [77.069091796875, 35.137879119634185], [77.1240234375, 35.08845057036537], [77.10205078124999, 35.043489514314686], [77.0306396484375, 35.043489514314686], [76.9482421875, 35.02099970111467], [76.92626953125, 34.97600151317588], [76.893310546875, 34.92647493584645], [76.83837890625, 34.95799531086792], [76.7724609375, 34.95799531086792], [76.7559814453125, 34.91746688928252], [76.7449951171875, 34.854382885097905], [76.728515625, 34.800272350556824], [76.6845703125, 34.7461262752594], [76.6241455078125, 34.74161249883172], [76.56372070312499, 34.75966612466248], [76.5252685546875, 34.773203753940734], [76.475830078125, 34.800272350556824], [76.4373779296875, 34.7461262752594], [76.3824462890625, 34.728069689872285], [76.26708984375, 34.72355492704221], [76.2506103515625, 34.67839374011646], [76.1517333984375, 34.642247047768535], [76.1077880859375, 34.642247047768535], [76.0528564453125, 34.69194468425019], [75.9814453125, 34.642247047768535], [75.91552734375, 34.6060845921693], [75.8221435546875, 34.54728700119802], [75.7891845703125, 34.51560953848204], [75.6793212890625, 34.52918706954935], [75.60791015625, 34.53371242139564], [75.5145263671875, 34.54728700119802], [75.4156494140625, 34.551811369170494], [75.3607177734375, 34.551811369170494], [75.25634765625, 34.59704151614417], [75.25634765625, 34.642247047768535], [75.157470703125, 34.66032236481892], [75.08056640625, 34.655803905058974], [75.025634765625, 34.6241677899049], [74.981689453125, 34.655803905058974], [74.8828125, 34.67387626588273], [74.8004150390625, 34.67387626588273], [74.70703125, 34.687427949314845], [74.619140625, 34.71452466170392], [74.5751953125, 34.75966612466248], [74.4873046875, 34.768691457552706], [74.3939208984375, 34.79576153473033], [74.3170166015625, 34.79576153473033], [74.267578125, 34.7461262752594], [74.1796875, 34.70549341022544], [74.1357421875, 34.66484057821928], [74.06982421875, 34.67839374011646], [73.9764404296875, 34.68291096793206], [73.9324951171875, 34.615126683462194], [73.9544677734375, 34.57895241036948], [73.9215087890625, 34.538237527295756], [73.8885498046875, 34.5020297944346], [73.883056640625, 34.45674800347809], [73.81164550781249, 34.42503613021332], [73.751220703125, 34.36611072883117], [73.7786865234375, 34.334364487026306], [73.86657714843749, 34.334364487026306], [73.9105224609375, 34.347971491244955], [73.948974609375, 34.30260622622907], [73.98193359375, 34.27083595165], [74.014892578125, 34.21634468843463], [73.9544677734375, 34.161818161230386], [73.8995361328125, 34.093610452768715], [73.9105224609375, 34.048108084909835], [73.9654541015625, 34.01168859910852], [74.02587890625, 34.02990029603907], [74.1412353515625, 34.05265942137599], [74.2071533203125, 34.025347738147936], [74.256591796875, 34.00713506435885], [74.2840576171875, 33.96158628979907], [74.2620849609375, 33.89321737944089], [74.190673828125, 33.84760762988741], [74.124755859375, 33.8339199536547], [74.05334472656249, 33.829356907739296], [73.9654541015625, 33.72890830547334], [73.98193359375, 33.67406853374198], [73.9984130859375, 33.610044573695646], [74.02587890625, 33.578014746143985], [74.0753173828125, 33.578014746143985], [74.14672851562499, 33.55512901742288], [74.20166015624999, 33.445193134508465], [74.190673828125, 33.37641235124676], [74.15771484375, 33.31675830290707], [74.0972900390625, 33.293803558346596], [74.02587890625, 33.27084277265288], [74.00390625, 33.211116472416855], [74.06982421875, 33.19273094190692], [74.15771484375, 33.14675022877648], [74.1741943359375, 33.091541548655215], [74.24560546875, 33.054716488042736], [74.322509765625, 33.03169299978312], [74.3389892578125, 32.967195229355916], [74.300537109375, 32.93492866908233], [74.37744140625, 32.91187391621322], [74.4158935546875, 32.90726224488304], [74.4268798828125, 32.861132322810946], [74.4488525390625, 32.80574473290688]]
    area_korangi = ee.Geometry.Polygon(poly_area_korangi)
    #poly_area_east = [[67.09213256835938, 25.00783948780488], [67.11307525634766, 25.009084026419178], [67.13882446289062, 25.00472808609992], [67.14775085449219, 25.002861207248976], [67.15667724609375, 24.96365020050899], [67.15667724609375, 24.9431061136075], [67.14775085449219, 24.918822320516302], [67.15530395507812, 24.91695413829471], [67.17109680175781, 24.918822320516302], [67.18276977539062, 24.918822320516302], [67.18208312988281, 24.905744450770186], [67.17453002929688, 24.88581360309809], [67.137451171875, 24.887059375335962], [67.12440490722656, 24.887059375335962], [67.12509155273438, 24.87865016890194], [67.12646484375, 24.872109279282647], [67.11685180664062, 24.867437003313704], [67.10552215576172, 24.866814019840735], [67.09693908691406, 24.864010555361574], [67.09075927734375, 24.85933797329854], [67.0883560180664, 24.846876891350952], [67.08457946777344, 24.842515216135208], [67.08045959472656, 24.83129877402803], [67.06466674804688, 24.84189210712628], [67.05951690673828, 24.846876891350952], [67.0547103881836, 24.854042166854427], [67.05024719238281, 24.858714949016232], [67.04235076904297, 24.865879538744686], [67.03617095947266, 24.87242075806748], [67.03033447265625, 24.889550882114328], [67.03754425048828, 24.892042338626545], [67.04338073730469, 24.894222321837816], [67.05368041992188, 24.89733651679859], [67.06020355224608, 24.900139225095582], [67.06295013427734, 24.90449886706521], [67.06535339355469, 24.90885835502671], [67.06844329833984, 24.911972180697553], [67.07565307617186, 24.91415181190483], [67.07839965820312, 24.91726550396347], [67.07908630371094, 24.921624540787306], [67.08114624023438, 24.925983423525253], [67.08457946777344, 24.933144110606197], [67.0835494995117, 24.944040010093424], [67.08251953125, 24.95182220545605], [67.0821762084961, 24.95586875269946], [67.0876693725586, 24.962405201915775], [67.0883560180664, 24.9739209583209], [67.08904266357422, 24.987925155284486], [67.09041595458984, 25.0003719913183]]
    poly_area_east = [[66.68701171875, 24.891419479211137], [66.7364501953125, 24.921313186123925], [66.785888671875, 24.97609949369541], [66.8408203125, 24.97609949369541], [66.90673828125, 25.025884063244828], [67.0111083984375, 25.090573819461], [67.03857421875, 25.105497373014686], [67.027587890625, 25.150257104114733], [67.049560546875, 25.224820176765036], [67.1099853515625, 25.249664387120884], [67.17041015625, 25.329131707091477], [67.17041015625, 25.388697990350824], [67.1868896484375, 25.468073997498134], [67.21435546875, 25.507742380531404], [67.2637939453125, 25.562265014427492], [67.32421875, 25.61676284310854], [67.34069824218749, 25.686087780724858], [67.379150390625, 25.745477067368604], [67.4066162109375, 25.78999956287362], [67.4505615234375, 25.834505347339903], [67.467041015625, 25.878994400196202], [67.4395751953125, 25.933347157371625], [67.445068359375, 25.997549919572112], [67.4505615234375, 26.061717616104055], [67.445068359375, 26.130782003547658], [67.39013671875, 26.175158990178133], [67.335205078125, 26.278639583003976], [67.2802734375, 26.382027976025352], [67.2198486328125, 26.470573022375085], [67.181396484375, 26.554136386183785], [67.159423828125, 26.667095801104814], [67.1484375, 26.716173757934094], [67.17041015625, 26.765230565697482], [67.17041015625, 26.86328062676624], [67.1649169921875, 26.956349533411863], [67.1649169921875, 27.044449217654016], [67.181396484375, 27.112923428713707], [67.1649169921875, 27.21555620902969], [67.137451171875, 27.293689224852407], [67.17041015625, 27.342494467201007], [67.203369140625, 27.405909155361044], [67.2088623046875, 27.47416122087989], [67.2088623046875, 27.53262936554833], [67.236328125, 27.586197857692664], [67.2802734375, 27.620273282414246], [67.2747802734375, 27.67379895781762], [67.34619140625, 27.717573198352596], [67.3846435546875, 27.761329874505233], [67.4066162109375, 27.819644755099446], [67.423095703125, 27.892494332286603], [67.48901367187499, 27.911912615111895], [67.6043701171875, 27.916766641249065], [67.74169921875, 27.9361805667694], [67.8350830078125, 27.965294915211132], [67.9339599609375, 28.004101830368654], [67.9669189453125, 28.06713326012151], [68.0218505859375, 28.110748760633534], [68.0877685546875, 28.13981591275445], [68.1536865234375, 28.19308520918522], [68.1866455078125, 28.241488817301672], [68.2965087890625, 28.285033294640684], [68.36242675781249, 28.318888915773826], [68.389892578125, 28.362401735238237], [68.4283447265625, 28.405896722414823], [68.477783203125, 28.44454394857482], [68.587646484375, 28.44937385955666], [68.73046875, 28.45420354994914], [68.983154296875, 28.45420354994914], [69.19189453125, 28.45420354994914], [69.378662109375, 28.45420354994914], [69.4171142578125, 28.478348692223165], [69.488525390625, 28.497660832963472], [69.5379638671875, 28.468691297348148], [69.598388671875, 28.43971381702788], [69.697265625, 28.43971381702788], [69.7686767578125, 28.38173504322308], [69.78515625, 28.33823014702584], [69.8126220703125, 28.23180985121183], [69.8236083984375, 28.125283321961756], [69.884033203125, 28.05259082333983], [69.9554443359375, 27.97499795326776], [70.02685546875, 27.921620449508467], [70.1806640625, 27.853647316127383], [70.13671875, 27.81478637667891], [70.09277343749999, 27.712710260887476], [70.015869140625, 27.552111841284695], [69.9334716796875, 27.488781168937997], [69.8895263671875, 27.425414052729582], [69.8016357421875, 27.357131851125803], [69.7247314453125, 27.283925600229757], [69.6258544921875, 27.23021032948516], [69.5819091796875, 27.166695222253114], [69.5050048828125, 27.00040800352175], [69.488525390625, 26.838776064165863], [69.5050048828125, 26.75051574561839], [69.620361328125, 26.701452590314368], [69.730224609375, 26.64745870265938], [69.796142578125, 26.60817437403311], [69.8675537109375, 26.578702269100557], [69.9609375, 26.5737895138798], [70.0543212890625, 26.598351182358293], [70.125732421875, 26.5737895138798], [70.1751708984375, 26.539394329017032], [70.18615722656249, 26.44598399885638], [70.18615722656249, 26.352497858154024], [70.169677734375, 26.28356493253137], [70.1641845703125, 26.20966274979298], [70.081787109375, 26.071586453170973], [70.09277343749999, 25.958044673317843], [70.14770507812499, 25.849336891707605], [70.213623046875, 25.799891182088334], [70.2630615234375, 25.720735134412106], [70.3564453125, 25.681137335685307], [70.455322265625, 25.676186684959895], [70.5322265625, 25.686087780724858], [70.5926513671875, 25.71578612996864], [70.6365966796875, 25.71578612996864], [70.675048828125, 25.64152637306577], [70.675048828125, 25.53252846853444], [70.6585693359375, 25.388697990350824], [70.72998046875, 25.334096684794456], [70.7464599609375, 25.279470734081812], [70.8837890625, 25.150257104114733], [70.9332275390625, 24.94123829939631], [71.048583984375, 24.751819904924858], [71.0870361328125, 24.676969798202656], [71.004638671875, 24.62205114321693], [70.9881591796875, 24.582095141363695], [70.9991455078125, 24.5271348225978], [70.9991455078125, 24.44714958973082], [71.048583984375, 24.43214670001101], [71.103515625, 24.43214670001101], [71.1199951171875, 24.392130270038873], [71.0760498046875, 24.382124181118236], [71.0321044921875, 24.352101162808903], [70.982666015625, 24.357105493969723], [70.8673095703125, 24.292033766081378], [70.90576171875, 24.251973033707195], [70.86181640625, 24.246964554300924], [70.806884765625, 24.22191919987298], [70.6915283203125, 24.216909537721747], [70.6036376953125, 24.241955877694192], [70.5596923828125, 24.261989400796306], [70.5816650390625, 24.287026865376436], [70.565185546875, 24.347096633808512], [70.6036376953125, 24.412140070651528], [70.5706787109375, 24.41714202537204], [70.433349609375, 24.387127324604496], [70.3619384765625, 24.352101162808903], [70.2520751953125, 24.33208186007361], [70.11474609375, 24.302046975036557], [70.0543212890625, 24.171813716251364], [69.99938964843749, 24.171813716251364], [69.8895263671875, 24.17682515045749], [69.7357177734375, 24.171813716251364], [69.5928955078125, 24.287026865376436], [69.4775390625, 24.26699728841817], [69.4171142578125, 24.272004978717593], [69.3292236328125, 24.282019767227187], [69.2138671875, 24.23694700391751], [69.0985107421875, 24.26699728841817], [68.9996337890625, 24.22191919987298], [68.9447021484375, 24.302046975036557], [68.9117431640625, 24.261989400796306], [68.8787841796875, 24.211899678553248], [68.8458251953125, 24.241955877694192], [68.8348388671875, 24.312059393849218], [68.785400390625, 24.307053283225915], [68.73046875, 24.292033766081378], [68.62060546875, 24.226928664976377], [68.4393310546875, 24.126701958681668], [68.3843994140625, 24.13171516246295], [68.291015625, 24.10664717920179], [68.1317138671875, 24.10664717920179], [68.02734375, 24.126701958681668], [67.9449462890625, 24.156778233303413], [67.9119873046875, 24.181836387890975], [67.862548828125, 24.196868919249656], [67.8021240234375, 24.181836387890975], [67.763671875, 24.16680208530324], [67.763671875, 24.10664717920179], [67.6922607421875, 24.086589258228027], [67.6153564453125, 24.086589258228027], [67.5714111328125, 24.10664717920179], [67.5274658203125, 24.14174098050432], [67.5054931640625, 24.191858272317656], [67.5274658203125, 24.261989400796306], [67.587890625, 24.337086982410497], [67.5494384765625, 24.37712083961039], [67.52197265625, 24.41714202537204], [67.4285888671875, 24.43214670001101], [67.3846435546875, 24.457150524185852], [67.4176025390625, 24.487148563173424], [67.379150390625, 24.5271348225978], [67.3681640625, 24.56710835257599], [67.445068359375, 24.56710835257599], [67.3846435546875, 24.617057340809524], [67.4615478515625, 24.617057340809524], [67.467041015625, 24.652009767778697], [67.4285888671875, 24.671978191593258], [67.379150390625, 24.70691524106633], [67.4176025390625, 24.726874870506972], [67.4835205078125, 24.711905448466087], [67.4615478515625, 24.766784522874453], [67.39562988281249, 24.77177232822881], [67.35992431640625, 24.76927845059527], [67.31597900390625, 24.776759933219164], [67.29400634765624, 24.806681353851964], [67.25555419921875, 24.806681353851964], [67.2198486328125, 24.809174479730263], [67.203369140625, 24.79670834894575], [67.14569091796874, 24.779253660568546], [67.12371826171875, 24.776759933219164], [67.09899902343749, 24.76927845059527], [67.0770263671875, 24.749325626697196], [67.05230712890624, 24.761796517185815], [67.0330810546875, 24.78673454198888], [66.9891357421875, 24.806681353851964], [66.9671630859375, 24.834102979830956], [66.9561767578125, 24.85154994418473], [66.9232177734375, 24.85154994418473], [66.8902587890625, 24.859026461549753], [66.8682861328125, 24.856534339310674], [66.83807373046875, 24.85154994418473], [66.82159423828125, 24.831610355586918], [66.78863525390625, 24.83908807776389], [66.7474365234375, 24.844072974931866], [66.719970703125, 24.836595553891183], [66.67877197265625, 24.826624956562167], [66.654052734375, 24.826624956562167], [66.6595458984375, 24.854042166854427], [66.67053222656249, 24.87148631935797]]
    area_east = ee.Geometry.Polygon(poly_area_east)
    #poly_area_central = [[67.09144592285155, 25.00783948780488], [67.06466674804688, 25.007217213768804], [67.03582763671875, 25.001616605587664], [67.04132080078125, 24.989792261044727], [67.04063415527344, 24.973609735832184], [67.03720092773438, 24.958670130576788], [67.03170776367188, 24.948709386318527], [67.02346801757812, 24.93376675938881], [67.01728820800781, 24.92754013001425], [67.01042175292969, 24.926294766395593], [67.01385498046875, 24.918199596253377], [67.01454162597656, 24.906990021902633], [67.01591491699219, 24.898893584819813], [67.0166015625, 24.892665194900047], [67.02072143554688, 24.8851907122672], [67.02690124511719, 24.882699117531892], [67.03445434570312, 24.887059375335962], [67.04200744628906, 24.891419479211137], [67.05024719238281, 24.89577942913762], [67.06192016601562, 24.898893584819813], [67.0660400390625, 24.905744450770186], [67.071533203125, 24.910726659859982], [67.08045959472656, 24.914463184647705], [67.08045959472656, 24.924426697379943], [67.08457946777344, 24.93376675938881], [67.08251953125, 24.946219074360084], [67.08183288574219, 24.956802552408], [67.08732604980469, 24.961782697896567], [67.08938598632812, 24.976721925287233], [67.09075927734375, 24.992281691278635]]
    poly_area_central = [[69.32373046875, 31.93351676190369], [69.290771484375, 32.0639555946604], [69.27978515625, 32.20350534542368], [69.290771484375, 32.29641979896909], [69.246826171875, 32.41706632846282], [69.23583984375, 32.491230287947594], [69.334716796875, 32.565333160841035], [69.45556640625, 32.63937487360669], [69.378662109375, 32.7503226078097], [69.510498046875, 32.861132322810946], [69.49951171875, 32.94414888814148], [69.510498046875, 33.0178760185549], [69.58740234375, 33.100745405144245], [69.708251953125, 33.109948297894285], [69.796142578125, 33.109948297894285], [69.927978515625, 33.109948297894285], [70.0048828125, 33.137551192346145], [70.07080078125, 33.22030778968541], [70.0982666015625, 33.211116472416855], [70.18615722656249, 33.22949814144951], [70.2685546875, 33.29839499061643], [70.3289794921875, 33.33970700424026], [70.323486328125, 33.38558626887102], [70.29052734375, 33.43144133557529], [70.235595703125, 33.46810795527896], [70.1806640625, 33.527658137677335], [70.20263671875, 33.63291573870479], [70.1422119140625, 33.65578083204094], [70.1422119140625, 33.706062655101206], [70.0982666015625, 33.710632271492095], [70.0048828125, 33.742612777346885], [69.971923828125, 33.779147331286474], [69.9609375, 33.815666308702774], [69.9224853515625, 33.84760762988741], [69.9005126953125, 33.88865750124075], [69.862060546875, 33.925129700072], [69.862060546875, 33.96158628979907], [69.9005126953125, 33.97980872872457], [69.9005126953125, 34.016241889667015], [69.927978515625, 34.048108084909835], [69.99938964843749, 34.048108084909835], [70.07080078125, 34.03445260967645], [70.103759765625, 34.01168859910852], [70.1641845703125, 33.99802726234877], [70.2740478515625, 33.97525348507592], [70.4443359375, 33.957030069982316], [70.521240234375, 33.929687627576605], [70.609130859375, 33.947916898356404], [70.7080078125, 33.95247360616282], [70.8782958984375, 33.970697997361626], [70.9716796875, 34.016241889667015], [71.08154296875, 34.048108084909835], [71.092529296875, 34.10725639663118], [71.1309814453125, 34.161818161230386], [71.1199951171875, 34.20271636159618], [71.12548828125, 34.24813554589752], [71.1859130859375, 34.361576287484176], [71.12548828125, 34.379712580462204], [71.12548828125, 34.415973384481866], [71.0980224609375, 34.43409789359469], [71.05957031249999, 34.42956713470528], [71.0101318359375, 34.4793919710481], [71.015625, 34.52013562807766], [71.03759765625, 34.56538299699511], [71.08154296875, 34.59251960889388], [71.1090087890625, 34.619647359797185], [71.092529296875, 34.66935854524543], [71.12548828125, 34.70097741472011], [71.1859130859375, 34.732584206123626], [71.2353515625, 34.768691457552706], [71.290283203125, 34.80929324176267], [71.2957763671875, 34.867904962568716], [71.334228515625, 34.903952965590065], [71.4056396484375, 34.92197103616377], [71.455078125, 34.95349314197422], [71.52099609375, 34.97600151317588], [71.4990234375, 35.007502842952896], [71.553955078125, 35.03449433167976], [71.531982421875, 35.092945313732635], [71.5924072265625, 35.11990857099681], [71.65283203125, 35.160336728130346], [71.685791015625, 35.205233347514536], [71.641845703125, 35.23664622093195], [71.5484619140625, 35.29943548054545], [71.5869140625, 35.36665566526249], [71.663818359375, 35.43381992014202], [71.60888671875, 35.48751102385376], [71.619873046875, 35.55904339525896], [71.575927734375, 35.58138418324621], [71.4935302734375, 35.62158189955968], [71.54296874999999, 35.66622234103479], [71.5594482421875, 35.71975793933433], [71.510009765625, 35.737595151747826], [71.4935302734375, 35.77325759103725], [71.488037109375, 35.79999392988527], [71.43310546875, 35.88905007936091], [71.39465332031249, 35.89795019335754], [71.378173828125, 35.95577654056531], [71.3397216796875, 35.964669147704086], [71.2628173828125, 35.991340960635405], [71.21337890625, 36.04021586880111], [71.2353515625, 36.097938036628065], [71.2847900390625, 36.15118243124803], [71.34521484375, 36.17779108329074], [71.39465332031249, 36.213255233061844], [71.455078125, 36.24870331653198], [71.5155029296875, 36.30627216957992], [71.5374755859375, 36.32397712011264], [71.5869140625, 36.33725319397006], [71.56494140625, 36.37264499608118], [71.60888671875, 36.40359962073253], [71.641845703125, 36.48314061639213], [71.806640625, 36.40359962073253], [71.8231201171875, 36.42570252039198], [71.795654296875, 36.50522086338427], [71.87255859375, 36.50522086338427], [71.927490234375, 36.50522086338427], [71.927490234375, 36.54936246839778], [71.993408203125, 36.56260003738545], [72.04833984375, 36.58465761247169], [72.08129882812499, 36.589068371399115], [72.0977783203125, 36.63316209558658], [72.2021484375, 36.659606226479696], [72.18017578125, 36.712467243386264], [72.2625732421875, 36.74328605437939], [72.3284912109375, 36.74328605437939], [72.366943359375, 36.760891249565624], [72.4273681640625, 36.76969233214548], [72.48779296875, 36.778492404594154], [72.564697265625, 36.83127162140714], [72.652587890625, 36.848856608486905], [72.784423828125, 36.85325222344018], [72.916259765625, 36.85325222344018], [72.97119140625, 36.87962060502676], [73.05908203125, 36.8708321556463], [73.135986328125, 36.88840804313823], [73.2843017578125, 36.87962060502676], [73.399658203125, 36.89280138293983], [73.5150146484375, 36.89280138293983], [73.619384765625, 36.89719446989036], [73.685302734375, 36.86204269508728], [73.80615234375, 36.80048816579081], [73.89404296875, 36.76529191711624], [73.8775634765625, 36.70365959719456], [73.7786865234375, 36.6992553955527], [73.707275390625, 36.70365959719456], [73.65234375, 36.69485094156225], [73.56994628906249, 36.71687068791304], [73.4710693359375, 36.71687068791304], [73.32824707031249, 36.73888412439431], [73.289794921875, 36.712467243386264], [73.17993164062499, 36.730079507078415], [73.0755615234375, 36.681636065615216], [73.10302734375, 36.62434536776987], [73.0096435546875, 36.52288052805137], [72.9876708984375, 36.500805317604794], [72.9876708984375, 36.45221769643571], [72.894287109375, 36.4477991295848], [72.8778076171875, 36.39475669987386], [72.806396484375, 36.328402729422656], [72.69653320312499, 36.266421331439375], [72.652587890625, 36.266421331439375], [72.5921630859375, 36.25313319699069], [72.5482177734375, 36.19995805932895], [72.5482177734375, 36.14231087352999], [72.520751953125, 36.089060460282006], [72.564697265625, 36.01800375871416], [72.5152587890625, 35.902399875143615], [72.5592041015625, 35.84898718690659], [72.6416015625, 35.831174956246535], [72.685546875, 35.817813158696616], [72.8228759765625, 35.86679541749027], [72.9217529296875, 35.8356283888737], [73.0096435546875, 35.8356283888737], [73.070068359375, 35.871246850027966], [73.125, 35.84008157153468], [73.1195068359375, 35.755428369259626], [73.14147949218749, 35.706377408871774], [73.2513427734375, 35.62158189955968], [73.41064453125, 35.576916524038616], [73.575439453125, 35.55010533588552], [73.773193359375, 35.51434313431818], [73.740234375, 35.42486791930558], [73.707275390625, 35.380092992092145], [73.685302734375, 35.31736632923788], [73.7127685546875, 35.22767235493586], [73.7786865234375, 35.23664622093195], [73.86657714843749, 35.19625600786368], [73.9654541015625, 35.19625600786368], [74.0313720703125, 35.16482750605027], [74.124755859375, 35.133386854253075], [74.058837890625, 35.05698043137265], [74.080810546875, 34.994003757575776], [73.992919921875, 34.89494244739732], [73.90502929687499, 34.82282272723702], [73.817138671875, 34.80929324176267], [73.740234375, 34.773203753940734], [73.7127685546875, 34.71903991764788], [73.67431640625, 34.687427949314845], [73.6468505859375, 34.56085936708384], [73.5809326171875, 34.59704151614417], [73.4600830078125, 34.56085936708384], [73.4326171875, 34.46127728843705], [73.3941650390625, 34.379712580462204], [73.43536376953125, 34.31394984163214], [73.465576171875, 34.27310565528197], [73.48480224609375, 34.27310565528197], [73.49029541015625, 34.19817309627726], [73.49853515625, 34.091335914867344], [73.51226806640625, 34.03900467904445], [73.51226806640625, 33.99802726234877], [73.4820556640625, 34.01168859910852], [73.4490966796875, 33.99802726234877], [73.44085693359375, 33.97980872872457], [73.38592529296875, 33.97297577172598], [73.37493896484374, 33.959308210392024], [73.38043212890625, 33.94108137920573], [73.34747314453125, 33.91373381431625], [73.32824707031249, 33.87725673930016], [73.24310302734375, 33.8430453147447], [73.16619873046875, 33.80653802509606], [73.0426025390625, 33.77686437792359], [72.97943115234375, 33.74946419232578], [72.9327392578125, 33.73119253613478], [72.9217529296875, 33.747180448149855], [72.88330078125, 33.74946419232578], [72.872314453125, 33.76088200086917], [72.83111572265625, 33.77229828866843], [72.8668212890625, 33.80197351806589], [72.82562255859375, 33.82251188219802], [72.84484863281249, 33.86129311351553], [72.84484863281249, 33.881817226884806], [72.82012939453125, 33.88637747072754], [72.7789306640625, 33.897777013859475], [72.79541015625, 33.93196649986436], [72.7459716796875, 33.925129700072], [72.71026611328125, 33.88865750124075], [72.6800537109375, 33.86129311351553], [72.630615234375, 33.868135032968624], [72.6141357421875, 33.89321737944089], [72.65808105468749, 33.920571528675076], [72.63336181640625, 33.93424531117312], [72.5921630859375, 33.93880275084578], [72.54547119140625, 33.93880275084578], [72.54547119140625, 33.959308210392024], [72.5262451171875, 33.98436372829188], [72.476806640625, 34.00030430441023], [72.4493408203125, 34.00030430441023], [72.40264892578125, 33.99119576995599], [72.3724365234375, 33.97753113740941], [72.3504638671875, 33.93880275084578], [72.3175048828125, 33.94335994657882], [72.2900390625, 33.91829235152197], [72.26806640624999, 33.90689555128866], [72.23236083984375, 33.895497227123876], [72.235107421875, 33.87041555094183], [72.235107421875, 33.829356907739296], [72.23785400390625, 33.78827853625996], [72.24609375, 33.76088200086917], [72.21588134765625, 33.770015152780125], [72.19390869140625, 33.76088200086917], [72.158203125, 33.770015152780125], [72.11975097656249, 33.779147331286474], [72.0867919921875, 33.78827853625996], [72.0703125, 33.78599582629231], [72.08129882812499, 33.76544869849223], [72.06207275390625, 33.754031498216385], [72.04010009765625, 33.75631505992707], [72.02911376953125, 33.7243396617476], [72.00439453125, 33.706062655101206], [72.00439453125, 33.687781758439364], [71.982421875, 33.65806700735442], [71.982421875, 33.637489243170826], [71.982421875, 33.61461929233378], [71.982421875, 33.58487928182987], [71.9384765625, 33.568861182555565], [71.96319580078125, 33.53452667616054], [71.9384765625, 33.4955977448657], [71.9110107421875, 33.47727218776036], [71.89453125, 33.458942753687644], [71.87255859375, 33.44977658311846], [71.86981201171875, 33.41310221370827], [71.85882568359375, 33.4039312002347], [71.83135986328124, 33.410809551114305], [71.77093505859375, 33.37870592138781], [71.71875, 33.33970700424026], [71.729736328125, 33.31675830290707], [71.7132568359375, 33.293803558346596], [71.7022705078125, 33.26624989076275], [71.7242431640625, 33.24557893338554], [71.751708984375, 33.211116472416855], [71.75445556640625, 33.17664043594348], [71.74896240234375, 33.144450560077985], [71.729736328125, 33.12145055836598], [71.7132568359375, 33.09384260312052], [71.71875, 33.063924198120645], [71.7242431640625, 33.02939031998959], [71.7132568359375, 33.01557297778958], [71.69677734375, 33.052414410040605], [71.65283203125, 33.07082934859187], [71.630859375, 33.09384260312052], [71.6143798828125, 33.116849834921005], [71.60614013671875, 33.16054697509142], [71.59515380859375, 33.195029344358204], [71.575927734375, 33.213414392242655], [71.5594482421875, 33.22260546814777], [71.5374755859375, 33.20881849225547], [71.52099609375, 33.22030778968541], [71.40838623046875, 33.211116472416855], [71.41387939453125, 33.18123802491263], [71.43585205078125, 33.144450560077985], [71.45782470703125, 33.07773395720986], [71.4715576171875, 33.063924198120645], [71.510009765625, 33.050112271849656], [71.48529052734375, 33.02478477990269], [71.45233154296875, 33.01557297778958], [71.41387939453125, 32.987931797174426], [71.3726806640625, 32.983324091837474], [71.3397216796875, 32.983324091837474], [71.3232421875, 33.00175347002964], [71.30950927734375, 33.01326987686983], [71.268310546875, 33.00405687168934], [71.21337890625, 32.97180377635759], [71.1749267578125, 32.93262346411481], [71.15295410156249, 32.87497382061986], [71.1474609375, 32.82421110161336], [71.14471435546875, 32.80112754111693], [71.11724853515625, 32.794201303793194], [71.136474609375, 32.731840896865684], [71.13922119140625, 32.699488680852674], [71.1474609375, 32.664812573810586], [71.158447265625, 32.62549671451373], [71.17218017578125, 32.59541998703928], [71.21337890625, 32.590791901737894], [71.2518310546875, 32.62087018318113], [71.268310546875, 32.602361666817515], [71.25732421875, 32.56996256044998], [71.25457763671874, 32.53986719301091], [71.246337890625, 32.509761735919426], [71.27105712890625, 32.49586350791503], [71.290283203125, 32.50281289041497], [71.31500244140625, 32.523657815699146], [71.3397216796875, 32.523657815699146], [71.3507080078125, 32.51439400122826], [71.36444091796875, 32.498180028410744], [71.35345458984375, 32.48196313217176], [71.3397216796875, 32.44720279964938], [71.34246826171875, 32.43097672054704], [71.34521484375, 32.412429054416144], [71.334228515625, 32.38460040620993], [71.34521484375, 32.36604320976023], [71.3232421875, 32.35676318267808], [71.290283203125, 32.34980253736092], [71.25732421875, 32.31499127724556], [71.224365234375, 32.28481069238481], [71.180419921875, 32.238359405722655], [71.17767333984375, 32.19188435632485], [71.16668701171875, 32.150036509965304], [71.13922119140625, 32.15236189465577], [71.11724853515625, 32.143059999988445], [71.11724853515625, 32.10584293285769], [71.1090087890625, 32.0639555946604], [71.08978271484375, 32.02204906495204], [71.070556640625, 32.01273389791075], [71.05957031249999, 31.952162238024975], [71.03759765625, 31.93351676190369], [71.03759765625, 31.903209796367197], [71.03759765625, 31.87522527511162], [71.026611328125, 31.856564203952235], [70.982666015625, 31.812229022640704], [70.9332275390625, 31.739846973355032], [70.894775390625, 31.695455797778713], [70.87280273437499, 31.665070644571784], [70.86181640625, 31.611287945395063], [70.86456298828124, 31.576195520223443], [70.850830078125, 31.552793227677334], [70.85906982421875, 31.527043924837933], [70.87554931640625, 31.501287521196705], [70.850830078125, 31.48957771850194], [70.8673095703125, 31.459125370764387], [70.85357666015625, 31.423975737976697], [70.8233642578125, 31.39584654193847], [70.8123779296875, 31.36770891512085], [70.784912109375, 31.323140440957427], [70.7684326171875, 31.299674869993044], [70.7354736328125, 31.297327991404266], [70.697021484375, 31.325486676506983], [70.66955566406249, 31.31375491407894], [70.6475830078125, 31.306715155075167], [70.6146240234375, 31.306715155075167], [70.56793212890625, 31.320794146937374], [70.54046630859375, 31.327832853583537], [70.51025390625, 31.31140838620163], [70.49652099609375, 31.297327991404266], [70.4718017578125, 31.292634058899516], [70.4443359375, 31.287939892641734], [70.41961669921875, 31.273855991548853], [70.3948974609375, 31.240985378021307], [70.367431640625, 31.240985378021307], [70.37567138671875, 31.194007509998823], [70.32623291015625, 31.182259396364206], [70.28228759765625, 31.17755974264551], [70.24658203125, 31.1634593819847], [70.22186279296875, 31.15170747813368], [70.2301025390625, 31.1140915948987], [70.22735595703125, 31.0741083805733], [70.21087646484375, 31.069403366864115], [70.1971435546875, 31.095278060807935], [70.18615722656249, 31.13055037924057], [70.1971435546875, 31.186958816798732], [70.20538330078125, 31.25507418542194], [70.20538330078125, 31.304368451830978], [70.20538330078125, 31.3348710339506], [70.22186279296875, 31.38177878211098], [70.20538330078125, 31.419288124288357], [70.2081298828125, 31.44741029142872], [70.19989013671875, 31.477866449675865], [70.1806640625, 31.468496379205966], [70.16693115234375, 31.44975342450799], [70.13671875, 31.435693747063894], [70.1202392578125, 31.416944229585397], [70.09277343749999, 31.41460027631321], [70.07080078125, 31.398190963675983], [70.04608154296874, 31.400535326863935], [70.02410888671875, 31.384123555094014], [70.015869140625, 31.35598241670874], [70.0103759765625, 31.320794146937374], [70.00213623046875, 31.30906179986621], [69.9774169921875, 31.348945815579977], [69.97467041015625, 31.433350262414404], [69.9664306640625, 31.459125370764387], [69.94445800781249, 31.477866449675865], [69.9114990234375, 31.48957771850194], [69.87579345703125, 31.51767878128718], [69.88128662109375, 31.56449510799119], [69.8895263671875, 31.64636714691636], [69.89776611328124, 31.71882222408327], [69.89227294921875, 31.76086695137955], [69.89501953125, 31.819230730326613], [69.90600585937499, 31.85423130442635], [69.91973876953125, 31.879889952523502], [69.90600585937499, 31.89621446335144], [69.87030029296875, 31.861229825930895], [69.84832763671875, 31.87056036152958], [69.884033203125, 31.886886525780806], [69.8675537109375, 31.907873056360206], [69.87030029296875, 31.93817848559113], [69.87030029296875, 31.956823015897207], [69.8016357421875, 31.973133875881725], [69.8126220703125, 32.00341778396365], [69.840087890625, 32.06628317261135], [69.8016357421875, 32.0639555946604], [69.7686767578125, 32.05231681645636], [69.7247314453125, 32.04998888314202], [69.66705322265625, 32.0383483283312], [69.6148681640625, 31.977793589351563], [69.54620361328125, 31.931185811406294], [69.49127197265625, 31.93817848559113], [69.43084716796875, 31.93817848559113], [69.38140869140625, 31.93817848559113]]
    area_central = ee.Geometry.Polygon(poly_area_central)
    #poly_area_west = [[66.66641235351562, 24.824132181788887], [66.654052734375, 24.835349273134295], [66.6595458984375, 24.84781151603803], [66.6595458984375, 24.857780406707583], [66.67877197265625, 24.87646991083154], [66.68975830078125, 24.883944921181765], [66.70211791992188, 24.891419479211137], [66.71585083007812, 24.90512166048925], [66.72271728515625, 24.921313186123925], [66.75430297851562, 24.93874783639836], [66.77352905273438, 24.957425081612215], [66.77764892578125, 24.967385120722803], [66.8023681640625, 24.974854621062875], [66.8243408203125, 24.97609949369541], [66.83395385742186, 24.99352638748893], [66.85317993164062, 25.005972656239187], [66.88339233398438, 25.018417664026128], [66.93695068359375, 25.017173220003865], [66.94793701171875, 25.03459428825369], [66.97540283203125, 25.05201288294568], [66.99874877929688, 25.090573819461], [67.01797485351562, 25.105497373014686], [67.02896118164061, 25.120419105501256], [67.01934814453125, 25.132852490910697], [67.02072143554688, 25.150257104114733], [67.02621459960938, 25.16890214979725], [67.0330810546875, 25.18381613394528], [67.03994750976562, 25.203698606796376], [67.04681396484375, 25.216123503743905], [67.06466674804688, 25.22233547648819], [67.07977294921875, 25.236000699800467], [67.10861206054688, 25.249664387120884], [67.115478515625, 25.23972731233395], [67.12921142578125, 25.22606250786859], [67.10586547851562, 25.19251511519153], [67.08938598632812, 25.171387940538974], [67.0770263671875, 25.153986341229828], [67.11959838867188, 25.130365915065003], [67.14569091796874, 25.12663595638182], [67.16354370117188, 25.14652775303499], [67.17521667480469, 25.147149319461974], [67.19856262207031, 25.13533901613099], [67.21504211425781, 25.129744263193796], [67.23014831542969, 25.122284193978963], [67.24319458007812, 25.109849733138773], [67.25761413574219, 25.090573819461], [67.26516723632812, 25.073782645952882], [67.22259521484375, 25.028994928869533], [67.203369140625, 25.010328552422727], [67.18620300292969, 25.00472808609992], [67.11341857910156, 25.010328552422727], [67.07565307617186, 25.006594936580242], [67.05230712890624, 25.005350372745724], [67.03514099121094, 25.000994300028957], [67.03994750976562, 24.99041462332972], [67.03926086425781, 24.97983403599961], [67.03651428222655, 24.965517674784913], [67.02552795410156, 24.948086813049457], [67.01591491699219, 24.933144110606197], [67.00973510742188, 24.93127614538456], [67.01454162597656, 24.921313186123925], [67.01385498046875, 24.910726659859982], [67.01934814453125, 24.88768225674282], [67.01728820800781, 24.881453301317965], [67.00973510742188, 24.8789616312], [66.99806213378905, 24.88083038849967], [66.98844909667969, 24.87584697288821], [66.97746276855469, 24.87148631935797], [66.98432922363281, 24.862764550743062], [66.98638916015625, 24.855911300904335], [66.99119567871094, 24.84843459524055], [67.0001220703125, 24.842203662022907], [67.01385498046875, 24.841580551445354], [67.01866149902344, 24.83597241508107], [67.02278137207031, 24.830364024647107], [67.02140808105467, 24.82537857544687], [67.01728820800781, 24.819146481739068], [67.00767517089844, 24.8147838296018], [66.9891357421875, 24.815407075025966], [66.97471618652344, 24.819146481739068], [66.97471618652344, 24.82537857544687], [66.98020935058594, 24.834102979830956], [66.98844909667969, 24.844072974931866], [66.97952270507812, 24.84033432087876], [66.97402954101562, 24.832856673981677], [66.96784973144531, 24.823508980256506], [66.961669921875, 24.8147838296018], [66.961669921875, 24.824132181788887], [66.96853637695312, 24.82755973416718], [66.97025299072266, 24.83379140454481], [66.97368621826172, 24.842515216135208], [66.9784927368164, 24.849057671305268], [66.97437286376952, 24.84843459524055], [66.97677612304688, 24.854042166854427], [66.97917938232422, 24.85559978052421], [66.97437286376952, 24.859960994442023], [66.97265625, 24.86432205455417], [66.96784973144531, 24.868371472636408], [66.95686340332031, 24.86089552027181], [66.939697265625, 24.856534339310674], [66.92939758300781, 24.85715737457844], [66.92115783691406, 24.85715737457844], [66.91497802734375, 24.860272503836693], [66.90605163574219, 24.862764550743062], [66.90536499023438, 24.859026461549753], [66.89849853515625, 24.859649484262647], [66.89918518066406, 24.863076053074888], [66.90055847167969, 24.866814019840735], [66.89987182617188, 24.869928905809125], [66.8964385986328, 24.868059983647058], [66.89472198486328, 24.861830039038882], [66.88751220703125, 24.864945050584907], [66.88030242919922, 24.86650252692691], [66.87515258789062, 24.86650252692691], [66.8741226196289, 24.85933797329854], [66.88030242919922, 24.85559978052421], [66.88322067260742, 24.85326335266401], [66.89111709594727, 24.849213439831146], [66.8986701965332, 24.845942259604115], [66.90055847167969, 24.847188433697745], [66.9041633605957, 24.85139417860071], [66.90862655639648, 24.85544402003992], [66.91034317016602, 24.857936164249455], [66.9125747680664, 24.858091921595147], [66.9148063659668, 24.856690098421854], [66.9173812866211, 24.854197929104078], [66.91600799560547, 24.852796061796035], [66.91308975219727, 24.85139417860071], [66.91034317016602, 24.85077111430336], [66.90811157226562, 24.848590364550905], [66.90570831298828, 24.845942259604115], [66.90313339233398, 24.846253804304137], [66.90313339233398, 24.84500762079767], [66.90879821777344, 24.84282676946321], [66.9228744506836, 24.833947192285894], [66.93197250366211, 24.828182915317374], [66.94913864135742, 24.815407075025966], [66.95240020751953, 24.813381515936342], [66.95840835571289, 24.807148818773758], [66.95926666259766, 24.808395383279993], [66.9620132446289, 24.80746046107559], [66.96493148803711, 24.809330298432673], [66.96699142456055, 24.811355923737935], [66.9675064086914, 24.808083743328694], [66.96922302246094, 24.804188177830667], [66.9729995727539, 24.801227466183317], [66.97574615478516, 24.79826668383793], [66.97746276855469, 24.79592917415661], [66.98055267333984, 24.791565704877037], [66.98123931884766, 24.78969559962524], [66.98038101196289, 24.78860469187607], [66.9781494140625, 24.790163128581167], [66.97488784790039, 24.793747458704804], [66.9707679748535, 24.797175851469483], [66.96853637695312, 24.797955018426038], [66.96664810180664, 24.79779918542637], [66.9620132446289, 24.801071637296058], [66.95669174194336, 24.805902241731584], [66.95446014404297, 24.807927923059236], [66.95016860961914, 24.811355923737935], [66.94587707519531, 24.814628017755982], [66.93540573120117, 24.823353179383496], [66.92630767822266, 24.830675608558128], [66.91617965698241, 24.83737447299281], [66.90896987915039, 24.841424773310766], [66.90073013305664, 24.84469607296012], [66.89849853515625, 24.84344987376621], [66.89455032348633, 24.845319167850867], [66.88751220703125, 24.849524976294575], [66.88047409057617, 24.852951825614817], [66.87789916992188, 24.854353691157602], [66.87223434448242, 24.856845857336882], [66.86639785766602, 24.858559192455218], [66.86141967773438, 24.859960994442023], [66.8569564819336, 24.860584012446605], [66.84906005859375, 24.861830039038882], [66.84219360351562, 24.86151853356795], [66.83601379394531, 24.860584012446605], [66.83120727539062, 24.855288259359476], [66.82708740234375, 24.8496807442321], [66.8243408203125, 24.845942259604115], [66.82193756103516, 24.842203662022907], [66.82228088378906, 24.83939963971898], [66.81816101074217, 24.83877651502455], [66.8130111694336, 24.83877651502455], [66.80442810058594, 24.844384524338167], [66.79824829101562, 24.845942259604115], [66.7917251586914, 24.845942259604115], [66.7862319946289, 24.844384524338167], [66.78142547607422, 24.84344987376621], [66.77558898925781, 24.84282676946321], [66.77043914794922, 24.84500762079767], [66.7642593383789, 24.84843459524055], [66.75430297851562, 24.852796061796035], [66.74983978271484, 24.85154994418473], [66.741943359375, 24.847499975260114], [66.73439025878906, 24.84282676946321], [66.7306137084961, 24.840957437730605], [66.7306137084961, 24.838153387193202], [66.72649383544922, 24.835349273134295], [66.72374725341797, 24.83784182210122], [66.719970703125, 24.838153387193202], [66.71550750732422, 24.83690712211998], [66.70898437499999, 24.83503770098466], [66.70589447021484, 24.83223351635245], [66.70108795166016, 24.831921936361706], [66.6935348510742, 24.83129877402803], [66.68872833251953, 24.83005243995204], [66.68563842773436, 24.830364024647107], [66.6815185546875, 24.828494504716478], [66.67671203613281, 24.826624956562167], [66.67121887207031, 24.82506697820823]]
    poly_area_west = [[61.5673828125, 24.886436490787712], [61.72119140625, 25.740529092773226], [61.87499999999999, 25.839449402063185], [61.9189453125, 26.2145910237943], [62.09472656250001, 26.293415004265796], [62.24853515624999, 26.31311263768267], [62.33642578125001, 26.470573022375085], [62.73193359374999, 26.62781822639305], [63.17138671875, 26.62781822639305], [63.19335937499999, 26.980828590472107], [63.30322265625001, 27.137368359795584], [63.19335937499999, 27.196014383173306], [62.81982421875001, 27.235094607795503], [62.84179687499999, 27.488781168937997], [62.7978515625, 27.839076094777816], [62.77587890625, 28.130127737874005], [62.77587890625, 28.285033294640684], [62.60009765624999, 28.265682390146477], [62.42431640625, 28.459033019728043], [62.07275390625, 28.497660832963472], [61.69921875, 28.76765910569123], [61.45751953125, 29.11377539511439], [61.32568359375, 29.36302703778376], [61.14990234374999, 29.516110386062277], [60.84228515625, 29.878755346037977], [62.02880859375, 29.554345125748267], [62.5341796875, 29.401319510041485], [63.10546874999999, 29.439597566602902], [63.47900390625, 29.49698759653577], [64.09423828125, 29.420460341013133], [64.3798828125, 29.49698759653577], [64.599609375, 29.592565403314087], [65.0390625, 29.516110386062277], [66.24755859375, 29.82158272057499], [66.357421875, 29.935895213372444], [66.29150390625, 30.107117887092357], [66.4013671875, 30.41078179084589], [66.26953125, 30.637912028341123], [66.37939453125, 30.977609093348686], [66.55517578125, 31.015278981711266], [66.73095703125, 31.12819929911196], [66.99462890625, 31.297327991404266], [67.1484375, 31.240985378021307], [67.43408203124999, 31.22219703210317], [67.8076171875, 31.353636941500987], [67.587890625, 31.409912194070973], [67.587890625, 31.541089879585808], [67.8076171875, 31.59725256170666], [68.0712890625, 31.70947636001935], [68.203125, 31.80289258670676], [68.345947265625, 31.774877618507386], [68.57666015625, 31.728167146023935], [68.48876953125, 31.765537409484374], [68.587646484375, 31.84956532831343], [68.69750976562499, 31.75619625757135], [68.7744140625, 31.662732913235317], [68.90625, 31.59725256170666], [69.005126953125, 31.672083485607402], [69.12597656249999, 31.728167146023935], [69.19189453125, 31.83089906339438], [69.3017578125, 31.93351676190369], [69.312744140625, 32.0639555946604], [69.268798828125, 32.16631295696736], [69.3017578125, 32.32427558887655], [69.2578125, 32.44488496716713], [69.290771484375, 32.52828936482526], [69.378662109375, 32.565333160841035], [69.466552734375, 32.648625783736726], [69.42260742187499, 32.74108223150125], [69.43359375, 32.79651010951669], [69.532470703125, 32.85190345738802], [69.49951171875, 32.9257074887604], [69.49951171875, 33.02708758002874], [69.642333984375, 33.100745405144245], [69.78515625, 33.128351191631566], [69.93896484375, 33.109948297894285], [70.07080078125, 33.201924189778936], [70.1806640625, 33.22949814144951], [70.323486328125, 33.30298618122413], [70.323486328125, 33.41310221370827], [70.169677734375, 33.53223722395908], [70.1806640625, 33.61461929233378], [70.169677734375, 33.696922692957685], [70.059814453125, 33.76088200086917], [69.9169921875, 33.87041555094183], [69.873046875, 33.96158628979907], [69.9169921875, 34.025347738147936], [70.09277343749999, 34.025347738147936], [70.257568359375, 33.97980872872457], [70.400390625, 33.96158628979907], [70.68603515625, 33.96158628979907], [70.94970703125, 34.03445260967645], [71.103515625, 34.098159345215535], [71.16943359375, 34.34343606848294], [71.092529296875, 34.43409789359469], [71.015625, 34.488447837809304], [71.05957031249999, 34.59704151614417], [71.12548828125, 34.66032236481892], [71.2353515625, 34.786739162702524], [71.3232421875, 34.903952965590065], [71.4990234375, 34.94899072578227], [71.54296874999999, 35.05698043137265], [71.59790039062499, 35.137879119634185], [71.685791015625, 35.200744801724014], [71.553955078125, 35.30840140169162], [71.65283203125, 35.43381992014202], [71.5869140625, 35.55010533588552], [71.488037109375, 35.63051198300061], [71.56494140625, 35.7019167328534], [71.52099609375, 35.755428369259626], [71.4111328125, 35.85343961959182], [71.4111328125, 35.96911507577482], [71.202392578125, 36.03133177633187], [71.35620117187499, 36.1733569352216], [71.510009765625, 36.28856319836237], [71.56494140625, 36.34167804918315], [71.65283203125, 36.4477991295848], [71.8505859375, 36.41244153535644], [71.82861328125, 36.48314061639213], [72.08129882812499, 36.589068371399115], [72.18017578125, 36.659606226479696], [72.22412109375, 36.721273880045004], [72.45483398437499, 36.76529191711624], [72.61962890625, 36.83566824724438], [73.05908203125, 36.8708321556463], [73.289794921875, 36.88840804313823], [73.67431640625, 36.90597988519294], [73.85009765625, 36.88840804313823], [73.992919921875, 36.83566824724438], [74.102783203125, 36.83566824724438], [74.1796875, 36.914764288955936], [74.278564453125, 36.914764288955936], [74.42138671875, 37.00255267215955], [74.520263671875, 36.96744946416934], [74.6630859375, 37.09900294387622], [74.761962890625, 37.046408899699564], [74.8388671875, 37.046408899699564], [74.90478515625, 36.94989178681327], [75.003662109375, 37.00255267215955], [75.16845703124999, 37.020098201368114], [75.333251953125, 36.94989178681327], [75.421142578125, 36.89719446989036], [75.43212890625, 36.79169061907076], [75.487060546875, 36.730079507078415], [75.56396484375, 36.76529191711624], [75.750732421875, 36.721273880045004], [75.9375, 36.62434536776987], [76.04736328125, 36.39475669987386], [76.036376953125, 36.27085020723902], [75.9375, 36.12900165569652], [75.926513671875, 36.049098959065645], [76.11328125, 36.01356058518153], [76.201171875, 35.88905007936091], [76.17919921875, 35.79108281624994], [76.37695312499999, 35.862343734896484], [76.519775390625, 35.9157474194997], [76.61865234374999, 35.817813158696616], [76.7724609375, 35.62158189955968], [76.761474609375, 35.55010533588552], [76.88232421875, 35.380092992092145], [77.01416015625, 35.29943548054545], [77.01416015625, 35.200744801724014], [77.091064453125, 35.11990857099681], [77.091064453125, 35.06597313798418], [76.981201171875, 35.003003395276714], [76.88232421875, 34.92197103616377], [76.7724609375, 34.97600151317588], [76.728515625, 34.79576153473033], [76.66259765625, 34.74161249883172], [76.519775390625, 34.786739162702524], [76.31103515625, 34.71452466170392], [76.17919921875, 34.63320791137959], [76.058349609375, 34.687427949314845], [75.91552734375, 34.6060845921693], [75.78369140625, 34.50655662164561], [75.60791015625, 34.551811369170494], [75.43212890625, 34.551811369170494], [75.267333984375, 34.58799745550482], [75.179443359375, 34.65128519895413], [75.03662109375, 34.65128519895413], [74.90478515625, 34.65128519895413], [74.72900390625, 34.66032236481892], [74.619140625, 34.71452466170392], [74.5751953125, 34.768691457552706], [74.35546875, 34.768691457552706], [74.190673828125, 34.70549341022544], [74.06982421875, 34.66935854524543], [73.98193359375, 34.66032236481892], [73.95996093749999, 34.56085936708384], [73.85009765625, 34.43409789359469], [73.773193359375, 34.37064492478658], [73.916015625, 34.298068350990825], [74.00390625, 34.21634468843463], [73.916015625, 34.10725639663118], [73.90502929687499, 34.025347738147936], [74.00390625, 34.025347738147936], [74.1357421875, 34.05265942137599], [74.256591796875, 33.96158628979907], [74.28955078125, 33.88865750124075], [74.1796875, 33.8521697014074], [74.080810546875, 33.8339199536547], [73.992919921875, 33.706062655101206], [74.00390625, 33.60546961227188], [74.11376953125, 33.5963189611327], [74.1796875, 33.47727218776036], [74.1796875, 33.358061612778876], [74.014892578125, 33.27543541298162], [74.02587890625, 33.23868752757414], [74.1357421875, 33.201924189778936], [74.1796875, 33.091541548655215], [74.3115234375, 33.02708758002874], [74.3115234375, 32.94414888814148], [74.3994140625, 32.861132322810946], [74.498291015625, 32.7872745269555], [74.652099609375, 32.7503226078097], [74.6630859375, 32.648625783736726], [74.674072265625, 32.50049648924482], [74.959716796875, 32.48196313217176], [75.12451171875, 32.45415593941475], [75.35522460937499, 32.34284135639302], [75.3662109375, 32.21280106801518], [75.267333984375, 32.091882620021806], [75.025634765625, 32.03602003973755], [74.92675781249999, 32.0639555946604], [74.86083984375, 32.02670629333614], [74.72900390625, 31.914867503276223], [74.59716796875, 31.83089906339438], [74.4873046875, 31.74685416292141], [74.619140625, 31.5691754490709], [74.64111328125, 31.456782472114313], [74.53125, 31.3348710339506], [74.53125, 31.22219703210317], [74.520263671875, 31.13760327002129], [74.6630859375, 31.12819929911196], [74.696044921875, 31.081165464590594], [74.586181640625, 31.024694128525137], [74.44335937499999, 30.949346915468563], [74.3115234375, 30.760718908944472], [74.168701171875, 30.64736425824319], [74.080810546875, 30.552800413453546], [73.98193359375, 30.467614102257855], [73.883056640625, 30.38235321766959], [73.95996093749999, 30.268556249047727], [73.95996093749999, 30.192618218499273], [73.795166015625, 30.07860131571654], [73.388671875, 29.92637417863576], [73.30078125, 29.6880527498568], [73.14697265625, 29.32472016151103], [73.01513671875, 29.171348850951507], [72.94921875, 29.017748018496047], [72.674560546875, 28.8927788645183], [72.35595703125, 28.758028282691143], [72.26806640624999, 28.58452171937042], [72.22412109375, 28.391400375817753], [72.0703125, 28.246327971048842], [71.91650390625, 28.110748760633534], [71.87255859375, 27.9361805667694], [71.69677734375, 27.868216579514076], [71.43310546875, 27.887639217136517], [71.290283203125, 27.858503954841247], [71.180419921875, 27.829360859789794], [70.982666015625, 27.732160709580906], [70.8837890625, 27.69325634309158], [70.77392578125, 27.712710260887476], [70.697021484375, 27.790491224830877], [70.6640625, 27.887639217136517], [70.59814453125, 28.004101830368654], [70.51025390625, 28.04289477256162], [70.400390625, 28.004101830368654], [70.279541015625, 27.926474039865017], [70.14770507812499, 27.829360859789794], [70.02685546875, 27.664068965384516], [70.0048828125, 27.518015241965667], [69.818115234375, 27.410785702577023], [69.598388671875, 27.176469131898898], [69.49951171875, 26.892679095908164], [69.49951171875, 26.765230565697482], [69.71923828125, 26.64745870265938], [69.85107421874999, 26.598351182358293], [70.015869140625, 26.60817437403311], [70.15869140625, 26.54922257769204], [70.15869140625, 26.401710528707707], [70.169677734375, 26.26386228011112], [70.169677734375, 26.185018250078308], [70.09277343749999, 26.066652138577403], [70.09277343749999, 25.90864446329127], [70.224609375, 25.799891182088334], [70.323486328125, 25.70093788144426], [70.477294921875, 25.70093788144426], [70.64208984375, 25.710836919640595], [70.675048828125, 25.62171595984575], [70.68603515625, 25.45319497952487], [70.718994140625, 25.34402602913433], [70.90576171875, 25.16517336866393], [70.90576171875, 25.015928763367857], [71.092529296875, 24.676969798202656], [70.982666015625, 24.607069137709683], [71.004638671875, 24.457150524185852], [71.11450195312499, 24.427145340082046], [71.070556640625, 24.367113562651262], [70.982666015625, 24.357105493969723], [70.894775390625, 24.307053283225915], [70.894775390625, 24.256981315882488], [70.762939453125, 24.196868919249656], [70.59814453125, 24.23694700391751], [70.59814453125, 24.327076540018634], [70.587158203125, 24.41714202537204], [70.279541015625, 24.337086982410497], [70.11474609375, 24.287026865376436], [70.059814453125, 24.186847428521244], [69.730224609375, 24.16680208530324], [69.598388671875, 24.287026865376436], [69.3896484375, 24.26699728841817], [69.18090820312499, 24.23694700391751], [69.0380859375, 24.23694700391751], [68.92822265625, 24.27701247166408], [68.851318359375, 24.226928664976377], [68.829345703125, 24.297040469311558], [68.763427734375, 24.256981315882488], [68.741455078125, 23.996289790628417], [68.40087890624999, 23.996289790628417], [68.31298828125, 23.956136333969283], [68.236083984375, 23.85569800975124], [68.170166015625, 23.68477416688374], [67.97241210937499, 23.483400654325642], [67.8076171875, 23.57405696664267], [67.56591796875, 23.624394569716923], [67.379150390625, 23.725011735951796], [67.225341796875, 23.85569800975124], [67.17041015625, 24.036430724667373], [67.093505859375, 24.186847428521244], [67.049560546875, 24.37712083961039], [66.983642578125, 24.557116164309626], [66.895751953125, 24.676969798202656], [66.785888671875, 24.716895455859337], [66.62109375, 24.676969798202656], [66.500244140625, 24.73685348477069], [66.42333984375, 24.856534339310674], [66.412353515625, 24.946219074360084], [66.52221679687499, 25.075648445630527], [66.52221679687499, 25.175116531621764], [66.324462890625, 25.284437746983055], [66.236572265625, 25.31423555219758], [66.07177734375, 25.27450351782018], [65.89599609375, 25.264568475331583], [65.654296875, 25.18505888358067], [65.3466796875, 25.23475847023373], [65.203857421875, 25.145284610685064], [64.84130859375, 25.15522939494057], [64.7314453125, 25.075648445630527], [64.58862304687499, 25.015928763367857], [64.434814453125, 25.045792240303445], [64.27001953125, 25.035838555635017], [64.083251953125, 25.12539261151203], [64.00634765625, 25.045792240303445], [63.87451171875, 24.996015742094006], [63.577880859375, 25.045792240303445], [63.1494140625, 25.11544539706194], [62.95166015624999, 25.045792240303445], [62.73193359374999, 25.085598897064752], [62.56713867187499, 25.105497373014686], [62.43530273437499, 25.015928763367857], [62.32543945312499, 24.97609949369541], [61.98486328124999, 24.986058021167594], [61.9189453125, 24.91633140459907], [61.754150390625, 24.86650252692691]]
    a
    area_west = ee.Geometry.Polygon(poly_area_west)

    total_sqkm = area.area().divide(1000 * 1000).getInfo()
    print("selected area :", total_sqkm)
    total_sqkm_south = area_south.area().divide(1000 * 1000).getInfo()
    print("south area :", total_sqkm_south)
    total_sqkm_malir = area_malir.area().divide(1000 * 1000).getInfo()
    print("malir area :", total_sqkm_malir)
    total_sqkm_korangi = area_korangi.area().divide(1000 * 1000).getInfo()
    print("korangi area :", total_sqkm_korangi)
    total_sqkm_east = area_east.area().divide(1000 * 1000).getInfo()
    print("east area :", total_sqkm_east)
    total_sqkm_central = area_central.area().divide(1000 * 1000).getInfo()
    print("central area :", total_sqkm_central)
    total_sqkm_west = area_west.area().divide(1000 * 1000).getInfo()
    print("west area :", total_sqkm_west)


    dt = datetime.date(2013, 5, 1)  # add the starting date according to your satellite, year, month, day
    dend = datetime.date.today()    # today"s date. can be changed later

    #coll = ee.ImageCollection("COPERNICUS/S2").filterBounds(area)             # for COPERNICUS/S2
    coll = ee.ImageCollection("LANDSAT/LC08/C01/T1_SR").filterBounds(area)      # for LANDSAT/LC08/C01/T1_SR

    #coll_south = ee.ImageCollection("COPERNICUS/S2").filterBounds(area_south)  # for COPERNICUS/S2
    #coll_south2 = ee.ImageCollection("LANDSAT/LC08/C01/T1_SR").filterBounds(area_south)  # for LANDSAT/LC08/C01/T1_SR
    #coll_malir = ee.ImageCollection("COPERNICUS/S2").filterBounds(area_malir)  # for COPERNICUS/S2
    #coll_korangi = ee.ImageCollection("COPERNICUS/S2").filterBounds(area_korangi)  # for COPERNICUS/S2
    #coll_east = ee.ImageCollection("COPERNICUS/S2").filterBounds(area_east)  # for COPERNICUS/S2
    #coll_central = ee.ImageCollection("COPERNICUS/S2").filterBounds(area_central)  # for COPERNICUS/S2
    #coll_west = ee.ImageCollection("COPERNICUS/S2").filterBounds(area_west)  # for COPERNICUS/S2

    coll_south2 = ee.ImageCollection("LANDSAT/LC08/C01/T1_SR").filterBounds(area_south)  # for LANDSAT/LC08/C01/T1_SR
    coll_malir = ee.ImageCollection("LANDSAT/LC08/C01/T1_SR").filterBounds(area_malir)  # for LANDSAT/LC08/C01/T1_SR
    coll_korangi = ee.ImageCollection("LANDSAT/LC08/C01/T1_SR").filterBounds(area_korangi)  # for LANDSAT/LC08/C01/T1_SR
    coll_east = ee.ImageCollection("LANDSAT/LC08/C01/T1_SR").filterBounds(area_east)  # for LANDSAT/LC08/C01/T1_SR
    coll_central = ee.ImageCollection("LANDSAT/LC08/C01/T1_SR").filterBounds(area_central)  # for LANDSAT/LC08/C01/T1_SR
    coll_west = ee.ImageCollection("LANDSAT/LC08/C01/T1_SR").filterBounds(area_west)  # for LANDSAT/LC08/C01/T1_SR


    sc1 = int((total_sqkm/4))+1
    print(sc1)
    # scale_south = 14
    scale_south2 = 2000
    scale_malir = 1500
    scale_korangi = 1000
    scale_east = 1000
    scale_central = 1500
    scale_west = 3000

    df = dt
    w = dt.strftime("%Y-%m-%d")
    out_dir = os.path.join(os.path.expanduser('./'), 'Downloads')

    if os.path.exists(out_dir) is False:
        os.mkdir('./Downloads')



    a = 1
    while df < dend:  # set while condition for new date less than today
        df = df + datetime.timedelta(days=30)  # get images of 30 days
        q = w
        w = df.strftime("%Y-%m-%d")
        #collredim = coll.filterDate("" + q + "", "" + w + "").sort('CLOUDY_PIXEL_PERCENTAGE').first().clip(area)      # for COPERNICUS/S2
        collredim = coll.filterDate("" + q + "", "" + w + "").sort('IMAGE_QUALITY', True).first()                     # for LANDSAT/LC08/C01/T1_SR
        # collredim = coll.filterDate("" + q + "", "" + w + "").median()                                                  # for LANDSAT/LC08/C01/T1_SR
        ndviim = coll.filterDate("" + q + "", "" + w + "").map(NDVI2).median()
        ndvimask=ndviim.clip(area).mask()
        ndviim2=ndviim.mask(ndvimask)
        print(q)
        rgbim = collredim.select(['B4', 'B3', 'B2'])

        # #collredim_s = coll_south.filterDate("" + q + "", "" + w + "").sort('CLOUDY_PIXEL_PERCENTAGE').first().clip(area_south)  # for COPERNICUS/S2
        # collredim_s = coll_south.filterDate("" + q + "", "" + w + "").sort('IMAGE_QUALITY', True).first()  # for LANDSAT
        # ndviim_s = coll_south.filterDate("" + q + "", "" + w + "").map(NDVI2).median()
        # ndvimask_s = ndviim_s.clip(area_south).mask()
        # #ndviim2_s_mask = ndviim_s.mask(ndvimask_s).gt(0.2)
        # ndviim2_s = ndviim_s.mask(ndvimask_s)
        # # NDVI_count = ndviim2_s_mask.count()
        # # print("no. of pixels greater than 0.2 = ", NDVI_count)
        # rgbim_s = collredim_s.select(['B4', 'B3', 'B2'])
        # #NDVI_count = col.select('NDVI').map(function(img){return img.updateMask(img.select('NDVI').lt(0.25))}).count()


        #thresholds = ee.Image([-0.2, 0, 0.1, 0.2, 0.3, 0.4, 1])     #Define the thresholds
        #classified = ndviim2_s.gt(thresholds).reduce('sum').toInt()   #Create the classified Image
        #print(classified, 'Classified')
        #Define new visualization parameters for the classification: The values are now ranging from 0 to 7, one for each class
        #classifiedParams = {min: 0, max: 7, palette: ['blue', 'white', 'brown', 'burlywood', 'LimeGreen', 'ForestGreen', 'DarkGreen']}
        # First, we want to count the number of pixels in the entire layer for future reference.
        #allpix = classified.updateMask(classified) # mask the entire layer
        # pixstats = allpix.reduceRegion(
        #                reducer= ee.Reducer.count(),               # count all pixels in a single class
        #                geometry=area_south,
        #                scale=30,
        #                maxPixels=1e10)
        # allpixels = ee.Number(pixstats.get('sum'))                    #extract pixel count as a number
        # print(allpixels)
        # Then, we want to create an empty list to store the area values we will calculate in
        #arealist = []

        #Now, we can create a function to derive the extent of one NDVI class
        #The arguments are class number (cnr) and class name (name)
        # def areacount(cnr, name):
        #     singleMask =  classified.updateMask(classified.eq(cnr))  #mask a single class
        #     stats = singleMask.reduceRegion(
        #         reducer= ee.Reducer.count(),               #count pixels in a single class
        #         geometry= area_south,
        #         scale= 30,
        #         maxPixels= 1e10 )
        #     pix =  ee.Number(stats.get('sum'))
        #     hect = pix.multiply(900).divide(10000)              # Landsat pixel = 30m x 30m --> 900 sqm
        #     perc = pix.divide(allpixels).multiply(10000).round().divide(100)   # get area percent by class and round to 2 decimals
        #     arealist.push(Class= name, Pixels= pix, Hectares= hect, Percentage= perc)

        #Create a list that contains the NDVI class names (7 classes, ranging from [-0.2, 0, 0.1, 0.2, 0.3, 0.4, 1])
        #     names2 = ['Water', 'No Vegetation', 'Very Low Vegetation', 'Low Vegetation', 'Moderate Vegetation','Moderate-high Vegetation', 'High Vegetation']
        #     for i in range (6):
        #       areacount(i, names2[i])
        #
        # #Print the results to the Console and examine it.
        # print('Vegetated Area by NDVI Class', arealist, '--> click list objects for individual classes')


        # collredim_s2 = coll_south2.filterDate("" + q + "", "" + w + "").sort('IMAGE_QUALITY', True).first()   # for LANDSAT
        collredim_s2 = coll_south2.filterDate("" + q + "", "" + w + "").median()
        ndviim_s2 = coll_south2.filterDate("" + q + "", "" + w + "").map(NDVI2).median()
        ndvimask_s2 = ndviim_s2.clip(area_south).mask()
        ndviim2_s2_mask = ndviim_s2.mask(ndvimask_s2).gt(0.5)     # mask for ndvi values greater than 0.2
        ndviim2_s2o = ndviim_s2.mask(ndvimask_s2)
        ndviim2_s2m = ndviim_s2.mask(ndviim2_s2_mask)
        rgbim_s2 = collredim_s2.select(['B4', 'B3', 'B2'])

        #collredim_m = coll_malir.filterDate("" + q + "", "" + w + "").sort('CLOUDY_PIXEL_PERCENTAGE').first().clip(area_malir)  # for COPERNICUS/S2
        collredim_m = coll_malir.filterDate("" + q + "", "" + w + "").sort('IMAGE_QUALITY', True).first()
        ndviim_m = coll_malir.filterDate("" + q + "", "" + w + "").map(NDVI2).median()
        ndvimask_m = ndviim_m.clip(area_malir).mask()
        ndviim2_m_mask = ndviim_m.mask(ndvimask_m).gt(0.5)  # mask for ndvi values greater than 0.2
        ndviim2_m = ndviim_m.mask(ndvimask_m)
        ndviim2_mm = ndviim_m.mask(ndviim2_m_mask)
        rgbim_m = collredim_m.select(['B4', 'B3', 'B2'])

        #collredim_k = coll_korangi.filterDate("" + q + "", "" + w + "").sort('CLOUDY_PIXEL_PERCENTAGE').first().clip(area_korangi)  # for COPERNICUS/S2
        collredim_k = coll_korangi.filterDate("" + q + "", "" + w + "").sort('IMAGE_QUALITY', True).first()
        ndviim_k = coll_korangi.filterDate("" + q + "", "" + w + "").map(NDVI2).median()
        ndvimask_k = ndviim_k.clip(area_korangi).mask()             # masked image of selected area
        ndviim2_k_mask = ndviim_k.mask(ndvimask_k).gt(0.5)  # mask for ndvi values greater than 0.2
        ndviim2_k = ndviim_k.mask(ndvimask_k)                       # apply the mask
        ndviim2_km = ndviim_k.mask(ndviim2_k_mask)
        rgbim_k = collredim_k.select(['B4', 'B3', 'B2'])

        #collredim_e = coll_east.filterDate("" + q + "", "" + w + "").sort('CLOUDY_PIXEL_PERCENTAGE').first().clip(area_east)  # for COPERNICUS/S2
        collredim_e = coll_east.filterDate("" + q + "", "" + w + "").sort('IMAGE_QUALITY', True).first()
        ndviim_e = coll_east.filterDate("" + q + "", "" + w + "").map(NDVI2).median()
        ndvimask_e = ndviim_e.clip(area_east).mask()
        ndviim2_e_mask = ndviim_e.mask(ndvimask_e).gt(0.5)  # mask for ndvi values greater than 0.2
        ndviim2_e = ndviim_e.mask(ndvimask_e)
        ndviim2_em = ndviim_e.mask(ndviim2_e_mask)
        rgbim_e = collredim_e.select(['B4', 'B3', 'B2'])

        #collredim_c = coll_central.filterDate("" + q + "", "" + w + "").sort('CLOUDY_PIXEL_PERCENTAGE').first().clip(area_central)  # for COPERNICUS/S2
        collredim_c = coll_central.filterDate("" + q + "", "" + w + "").sort('IMAGE_QUALITY', True).first()
        ndviim_c = coll_central.filterDate("" + q + "", "" + w + "").map(NDVI2).median()
        ndvimask_c = ndviim_c.clip(area_central).mask()
        ndviim2_c_mask = ndviim_c.mask(ndvimask_c).gt(0.5)  # mask for ndvi values greater than 0.2
        ndviim2_c = ndviim_c.mask(ndvimask_c)
        ndviim2_cm = ndviim_c.mask(ndviim2_c_mask)
        rgbim_c = collredim_c.select(['B4', 'B3', 'B2'])

        #collredim_w = coll_west.filterDate("" + q + "", "" + w + "").sort('CLOUDY_PIXEL_PERCENTAGE').first().clip(area_west)  # for COPERNICUS/S2
        collredim_w = coll_west.filterDate("" + q + "", "" + w + "").sort('IMAGE_QUALITY', True).first()
        ndviim_w = coll_west.filterDate("" + q + "", "" + w + "").map(NDVI2).median()
        ndvimask_w = ndviim_w.clip(area_west).mask()
        ndviim2_w_mask = ndviim_w.mask(ndvimask_w).gt(0.5)  # mask for ndvi values greater than 0.2
        ndviim2_w = ndviim_w.mask(ndvimask_w)
        ndviim2_wm = ndviim_w.mask(ndviim2_w_mask)
        rgbim_w = collredim_w.select(['B4', 'B3', 'B2'])

        filename = os.path.join(out_dir, '{}.tif'.format(a))
        filename2 = os.path.join(out_dir, 'ndvi{}.tif'.format(a))
        #geemap.ee_export_image(rgbim, filename=filename, scale=sc1, region=area, file_per_band=False)
        # geemap.ee_export_image(rgbim, filename=filename, scale=sc1, region=area, file_per_band=True) # for rgb separate bands
        #geemap.ee_export_image(ndviim2, filename=filename2, scale=sc1, region=area, file_per_band=False)

        # filename = os.path.join(out_dir, 'south{}.tif'.format(a))
        # filename2 = os.path.join(out_dir, 'ndvi_s{}.tif'.format(a))
        # geemap.ee_export_image(rgbim_s, filename=filename, scale=scale_south, region=area_south, file_per_band=False)
        # geemap.ee_export_image(ndviim2_s, filename=filename2, scale=scale_south, region=area_south, file_per_band=False)
        if os.path.exists(os.path.join(out_dir,'south')) is False:
            os.mkdir('./Downloads/south')
            os.mkdir('./Downloads/malir')
            os.mkdir('./Downloads/korangi')
            os.mkdir('./Downloads/east')
            os.mkdir('./Downloads/central')
            os.mkdir('./Downloads/west')
        filename = os.path.join(out_dir, 'south/south.tif')
        filename2 = os.path.join(out_dir, 'south/ndvi_s_ls{}.tif'.format(a))
        mask_im = os.path.join(out_dir, 'south/south_mask{}.tif'.format(a))
        geemap.ee_export_image(ndviim2_s2o, filename=filename2, scale=scale_south2, region=area_south, file_per_band=False)
        geemap.ee_export_image(ndviim2_s2m, filename=mask_im, scale=scale_south2, region=area_south, file_per_band=False)
        if a == 1:
            geemap.ee_export_image(ndvimask_s2, filename=filename, scale=scale_south2, region=area_south, file_per_band=False)
        percentage = green_percentage(filename, mask_im)
        #print(percentage)
        greenarea = total_sqkm_south * (percentage/100)
        nongreen_area = total_sqkm_south - greenarea
        with open('./Downloads/south.csv', 'a', newline="") as f:
            thewriter = csv.writer(f)
            if a == 1:
                thewriter.writerow(['Date', 'TotalArea', 'GreenArea', 'NongreenArea', 'Percentage'])
            thewriter.writerow([w, total_sqkm_south, greenarea, nongreen_area, percentage])


        filename = os.path.join(out_dir, 'malir/malir.tif')
        filename2 = os.path.join(out_dir, 'malir/ndvi_m{}.tif'.format(a))
        mask_im = os.path.join(out_dir, 'malir/malir_mask{}.tif'.format(a))
        geemap.ee_export_image(ndviim2_m, filename=filename2, scale=scale_malir, region=area_malir, file_per_band=False)
        geemap.ee_export_image(ndviim2_mm, filename=mask_im, scale=scale_malir, region=area_malir, file_per_band=False)
        if a == 1:
            geemap.ee_export_image(ndvimask_m, filename=filename, scale=scale_malir, region=area_malir, file_per_band=False)
        percentage = green_percentage(filename, mask_im)
        greenarea = total_sqkm_malir * (percentage / 100)
        nongreen_area = total_sqkm_malir - greenarea
        with open('./Downloads/malir.csv', 'a', newline="") as f:
            thewriter = csv.writer(f)
            if a == 1:
                thewriter.writerow(['Date', 'TotalArea', 'GreenArea', 'NongreenArea', 'Percentage'])
            thewriter.writerow([w, total_sqkm_malir, greenarea, nongreen_area, percentage])

        filename = os.path.join(out_dir, 'korangi/korangi.tif')
        filename2 = os.path.join(out_dir, 'korangi/ndvi_k{}.tif'.format(a))
        mask_im = os.path.join(out_dir, 'korangi/korangi_mask{}.tif'.format(a))
        geemap.ee_export_image(ndviim2_k, filename=filename2, scale=scale_korangi, region=area_korangi, file_per_band=False)
        geemap.ee_export_image(ndviim2_km, filename=mask_im, scale=scale_korangi, region=area_korangi, file_per_band=False)
        if a == 1:
            geemap.ee_export_image(ndvimask_k, filename=filename, scale=scale_korangi, region=area_korangi, file_per_band=False)
        percentage = green_percentage(filename, mask_im)
        greenarea = total_sqkm_korangi * (percentage / 100)
        nongreen_area = total_sqkm_korangi - greenarea
        with open('./Downloads/korangi.csv', 'a', newline="") as f:
            thewriter = csv.writer(f)
            if a == 1:
                thewriter.writerow(['Date', 'TotalArea', 'GreenArea', 'NongreenArea', 'Percentage'])
            thewriter.writerow([w, total_sqkm_korangi, greenarea, nongreen_area, percentage])


        filename = os.path.join(out_dir, 'east/east.tif')
        filename2 = os.path.join(out_dir, 'east/ndvi_e{}.tif'.format(a))
        mask_im = os.path.join(out_dir, 'east/east_mask{}.tif'.format(a))
        geemap.ee_export_image(ndviim2_e, filename=filename2, scale=scale_east, region=area_east, file_per_band=False)
        geemap.ee_export_image(ndviim2_em, filename=mask_im, scale=scale_east, region=area_east, file_per_band=False)
        if a == 1:
            geemap.ee_export_image(ndvimask_e, filename=filename, scale=scale_east, region=area_east, file_per_band=False)
        percentage = green_percentage(filename, mask_im)
        greenarea = total_sqkm_east * (percentage / 100)
        nongreen_area = total_sqkm_east - greenarea
        with open('./Downloads/east.csv', 'a', newline="") as f:
            thewriter = csv.writer(f)
            if a == 1:
                thewriter.writerow(['Date', 'TotalArea', 'GreenArea', 'NongreenArea', 'Percentage'])
            thewriter.writerow([w, total_sqkm_east, greenarea, nongreen_area, percentage])


        filename = os.path.join(out_dir, 'central/central.tif')
        filename2 = os.path.join(out_dir, 'central/ndvi_c{}.tif'.format(a))
        mask_im = os.path.join(out_dir, 'central/central_mask{}.tif'.format(a))
        geemap.ee_export_image(ndviim2_c, filename=filename2, scale=scale_central, region=area_central, file_per_band=False)
        geemap.ee_export_image(ndviim2_cm, filename=mask_im, scale=scale_central, region=area_central, file_per_band=False)
        if a == 1:
            geemap.ee_export_image(ndvimask_c, filename=filename, scale=scale_central, region=area_central, file_per_band=False)
        percentage = green_percentage(filename, mask_im)
        greenarea = total_sqkm_central * (percentage / 100)
        nongreen_area = total_sqkm_central - greenarea
        with open('./Downloads/central.csv', 'a', newline="") as f:
            thewriter = csv.writer(f)
            if a == 1:
                thewriter.writerow(['Date', 'TotalArea', 'GreenArea', 'NongreenArea', 'Percentage'])
            thewriter.writerow([w, total_sqkm_central, greenarea, nongreen_area, percentage])

        filename = os.path.join(out_dir, 'west/west.tif')
        filename2 = os.path.join(out_dir, 'west/ndvi_w{}.tif'.format(a))
        mask_im = os.path.join(out_dir, 'west/west_mask{}.tif'.format(a))
        geemap.ee_export_image(ndviim2_w, filename=filename2, scale=scale_west, region=area_west, file_per_band=False)
        geemap.ee_export_image(ndviim2_wm, filename=mask_im, scale=scale_west, region=area_west, file_per_band=False)
        if a == 1:
            geemap.ee_export_image(ndvimask_w, filename=filename, scale=scale_west, region=area_west, file_per_band=False)
        percentage = green_percentage(filename, mask_im)
        greenarea = total_sqkm_west * (percentage / 100)
        nongreen_area = total_sqkm_west - greenarea
        with open('./Downloads/west.csv', 'a', newline="") as f:
            thewriter = csv.writer(f)
            if a == 1:
                thewriter.writerow(['Date', 'TotalArea', 'GreenArea', 'NongreenArea', 'Percentage'])
            thewriter.writerow([w, total_sqkm_west, greenarea, nongreen_area, percentage])
        a = a + 1




        #MASKING
        # ndvi = (arr ** 2).copy()
        # ndvi[ndvi < 0.15] = 0
        # ndvi[ndvi >= 0.15] = 1
        # blue = rgb[:, :, 0]
        # red = rgb[:, :, 2]
        # blue[ndvi == 1] -= 0.5
        # red[ndvi == 1] -= 0.5
        # output = rgb.copy()
        # output[:, :, 0] = blue
        # output[:, :, 2] = red
        # output *= 255
        # output = cv2.cvtColor(output, cv2.COLOR_BGR2RGB)
        # rgb1=rgb.copy()
        # rgb1 *=255
        # rgb2=cv2.cvtColor(rgb1,cv2.COLOR_BGR2RGB)
        #cv2.imwrite("/Users/admin/PycharmProjects/greenarea/static/l.jpg", output)
        #cv2.imwrite("E:/greenarea/static/l.jpg", output)
    # cv2.imwrite("D:/Green area project/greenarea main/static1/1.jpg", ndvi)
    #     # cv2.imwrite("D:/Green area project/greenarea main/static1/{}.jpg".format(a), rgb2)
    cv2.waitKey(0)
    cv2.destroyAllWindows()

        # CALCULATIONS
        # total_img = np.sum(rgb, axis=-1)
        # total_pixels = len(total_img[total_img != 0])
        # green_pixels = len(ndvi[ndvi != 0])
        # build_pixels = total_pixels - green_pixels
        # percent = (green_pixels / total_pixels) * 100
        # total = total_sqkm
        # green = (percent / 100) * total
        # nongreen = total - green
        # build = total_sqkm - green
        # print(percent)

    #     with open('main.csv', 'a', newline="") as f:
    #         thewriter = csv.writer(f)
    #         if a == 2:
    #             thewriter.writerow(['Date', 'TotalArea', 'GreenArea', 'NongreenArea', 'Percentage', 'Coordinates'])
    #         thewriter.writerow([w, total, green, nongreen, percent, polygon])
    #
    # if percent < 30:
    #     p1 = "Plantation less than 30% is not considered as optimal so kindly plant more trees."
    # else:
    #     p1 = "Plantation is above 30%, you can plant more if you need or help others to plant trees."
    #
    #
    # return render_template("resultnew.html", b=total, c=green, d=build, e=percent, f=p1)


if __name__ == '__main__':
    app.debug = False
    app.run()
